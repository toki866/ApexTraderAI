Run: https://github.com/toki866/ApexTraderAI/actions/runs/22252976665
SHA: 394f77318a4e0b50ea26b51d840c292e1206e8f4
Attempt: 1
Conclusion: success

==== TAILS (each file last 200 lines) ====

----- FILE: actions_logs/0_run.txt -----
2026-02-21T07:43:49.9783443Z ##[group]Run actions/github-script@v7
2026-02-21T07:43:49.9785906Z with:
2026-02-21T07:43:49.9807299Z   script: const fs = require('fs');
const path = require('path');

const owner = context.repo.owner;
const repo = context.repo.repo;

const reportPath = path.join(process.env.GITHUB_WORKSPACE, 'temp', 'ONE_TAP_ERROR_REPORT.txt');
let report = fs.existsSync(reportPath)
  ? fs.readFileSync(reportPath, 'utf8')
  : '(missing ONE_TAP_ERROR_REPORT.txt)';

if (report.length > 60000) report = report.slice(-60000);

const runUrl = `${context.serverUrl}/${owner}/${repo}/actions/runs/${context.runId}`;
const title = 'ApexTraderAI Diagnostics (latest)';
const attempt = process.env.GITHUB_RUN_ATTEMPT || '1';
const diagRunFolder = process.env.DIAG_RUN_FOLDER || 'LATEST_CSV.md';
const csvIndexUrl = diagRunFolder === 'LATEST_CSV.md'
  ? `${context.serverUrl}/${owner}/${repo}/blob/diag-logs/runs/LATEST_CSV.md`
  : `${context.serverUrl}/${owner}/${repo}/blob/diag-logs/runs/${diagRunFolder}/CSV_INDEX.md`;
const body = `Run: ${runUrl}\nSHA: ${context.sha}\nAttempt: ${attempt}\ndiag-logs csv_index: ${csvIndexUrl}\n\n\`\`\`text\n${report}\n\`\`\`\n`;

const { data: issues } = await github.rest.issues.listForRepo({
  owner,
  repo,
  state: 'open',
  per_page: 100
});
const existing = issues.find(i => i.title === title);

if (existing) {
  await github.rest.issues.update({ owner, repo, issue_number: existing.number, body });
} else {
  await github.rest.issues.create({ owner, repo, title, body });
}

2026-02-21T07:43:49.9830527Z   github-token: ***
2026-02-21T07:43:49.9830710Z   debug: false
2026-02-21T07:43:49.9830881Z   user-agent: actions/github-script
2026-02-21T07:43:49.9832985Z   result-encoding: json
2026-02-21T07:43:49.9833164Z   retries: 0
2026-02-21T07:43:49.9835211Z   retry-exempt-status-codes: 400,401,403,404,422
2026-02-21T07:43:49.9835461Z env:
2026-02-21T07:43:49.9835647Z   REPO_ROOT: C:\work\apex_repo_cache\ApexTraderAI
2026-02-21T07:43:49.9837823Z   DIAG_RUN_FOLDER: 20260221_164347_run22252976665_att1_394f773
2026-02-21T07:43:49.9839976Z ##[endgroup]
2026-02-21T07:43:51.8386742Z ##[group]Run $ErrorActionPreference = 'Stop'
2026-02-21T07:43:51.8387231Z [36;1m$ErrorActionPreference = 'Stop'[0m
2026-02-21T07:43:51.8387549Z [36;1m[0m
2026-02-21T07:43:51.8387731Z [36;1mfunction Mask-Secrets {[0m
2026-02-21T07:43:51.8387983Z [36;1m  param([string]$Text)[0m
2026-02-21T07:43:51.8388208Z [36;1m[0m
2026-02-21T07:43:51.8388439Z [36;1m  if ([string]::IsNullOrEmpty($Text)) { return $Text }[0m
2026-02-21T07:43:51.8388751Z [36;1m[0m
2026-02-21T07:43:51.8388915Z [36;1m  $masked = $Text[0m
2026-02-21T07:43:51.8389337Z [36;1m  $masked = [regex]::Replace($masked, 'github_pat_[A-Za-z0-9_]{20,}', 'github_pat_***MASKED***')[0m
2026-02-21T07:43:51.8389989Z [36;1m  $masked = [regex]::Replace($masked, 'gh[pousr]_[A-Za-z0-9_]{20,}', 'gh***_***MASKED***')[0m
2026-02-21T07:43:51.8390653Z [36;1m  $masked = [regex]::Replace($masked, '(?im)\b(token|password|secret)\b\s*[:=]\s*\S+', '$1=***MASKED***')[0m
2026-02-21T07:43:51.8391166Z [36;1m  return $masked[0m
2026-02-21T07:43:51.8391377Z [36;1m}[0m
2026-02-21T07:43:51.8391530Z [36;1m[0m
2026-02-21T07:43:51.8391713Z [36;1mfunction Get-MaskedTail {[0m
2026-02-21T07:43:51.8392153Z [36;1m  param([0m
2026-02-21T07:43:51.8392343Z [36;1m    [string]$Path,[0m
2026-02-21T07:43:51.8392564Z [36;1m    [int]$Tail = 200[0m
2026-02-21T07:43:51.8392785Z [36;1m  )[0m
2026-02-21T07:43:51.8392944Z [36;1m[0m
2026-02-21T07:43:51.8393204Z [36;1m  if (-not (Test-Path $Path)) { return "(not found) $Path" }[0m
2026-02-21T07:43:51.8393755Z [36;1m  $raw = (Get-Content -Path $Path -Tail $Tail -ErrorAction SilentlyContinue) -join "`r`n"[0m
2026-02-21T07:43:51.8394399Z [36;1m  return (Mask-Secrets -Text $raw)[0m
2026-02-21T07:43:51.8394643Z [36;1m}[0m
2026-02-21T07:43:51.8394799Z [36;1m[0m
2026-02-21T07:43:51.8395022Z [36;1m$diagOut = Join-Path $env:RUNNER_TEMP 'diag_out'[0m
2026-02-21T07:43:51.8395417Z [36;1m$null = New-Item -Path $diagOut -ItemType Directory -Force[0m
2026-02-21T07:43:51.8395770Z [36;1m[0m
2026-02-21T07:43:51.8395958Z [36;1m$ws = $env:GITHUB_WORKSPACE[0m
2026-02-21T07:43:51.8396295Z [36;1m$runnerRoot = (Resolve-Path (Join-Path $ws '..\..\..')).Path[0m
2026-02-21T07:43:51.8396712Z [36;1m$runnerDiag = Join-Path $runnerRoot '_diag'[0m
2026-02-21T07:43:51.8397035Z [36;1m$runId = '22252976665'[0m
2026-02-21T07:43:51.8397283Z [36;1m$runAttempt = '1'[0m
2026-02-21T07:43:51.8397594Z [36;1m$sha = '394f77318a4e0b50ea26b51d840c292e1206e8f4'[0m
2026-02-21T07:43:51.8397895Z [36;1m$branch = 'main'[0m
2026-02-21T07:43:51.8398120Z [36;1m$repo = 'toki866/ApexTraderAI'[0m
2026-02-21T07:43:51.8398443Z [36;1m$artifactName = "diag_full_${runId}_${runAttempt}"[0m
2026-02-21T07:43:51.8398757Z [36;1m[0m
2026-02-21T07:43:51.8398958Z [36;1m$latestRunnerLog = $null[0m
2026-02-21T07:43:51.8399218Z [36;1m$latestWorkerLog = $null[0m
2026-02-21T07:43:51.8399572Z [36;1mif (Test-Path $runnerDiag) {[0m
2026-02-21T07:43:51.8400349Z [36;1m  $latestRunnerLog = Get-ChildItem -Path $runnerDiag -Filter 'Runner_*.log' -File -ErrorAction SilentlyContinue | Sort-Object LastWriteTime -Descending | Select-Object -First 1[0m
2026-02-21T07:43:51.8401647Z [36;1m  $latestWorkerLog = Get-ChildItem -Path $runnerDiag -Filter 'Worker_*.log' -File -ErrorAction SilentlyContinue | Sort-Object LastWriteTime -Descending | Select-Object -First 1[0m
2026-02-21T07:43:51.8402411Z [36;1m}[0m
2026-02-21T07:43:51.8402564Z [36;1m[0m
2026-02-21T07:43:51.8402883Z [36;1m$workflowLog = Join-Path $env:RUNNER_TEMP 'run_all_local_then_copy_console.log'[0m
2026-02-21T07:43:51.8403436Z [36;1m$runLogPath = 'C:\work\apex_work\runs\20260221_164217\logs\run_20260221_164217.log'[0m
2026-02-21T07:43:51.8403937Z [36;1m$stepSummaryGlob = Join-Path $env:RUNNER_TEMP 'step_summary_*'[0m
2026-02-21T07:43:51.8404493Z [36;1m$oneTapReportWorkspace = Join-Path $env:GITHUB_WORKSPACE 'temp\ONE_TAP_ERROR_REPORT.txt'[0m
2026-02-21T07:43:51.8404944Z [36;1m[0m
2026-02-21T07:43:51.8406921Z [36;1mif ($latestRunnerLog) { Copy-Item -Path $latestRunnerLog.FullName -Destination (Join-Path $diagOut $latestRunnerLog.Name) -Force }[0m
2026-02-21T07:43:51.8407978Z [36;1mif ($latestWorkerLog) { Copy-Item -Path $latestWorkerLog.FullName -Destination (Join-Path $diagOut $latestWorkerLog.Name) -Force }[0m
2026-02-21T07:43:51.8408940Z [36;1mif (Test-Path $workflowLog) { Copy-Item -Path $workflowLog -Destination (Join-Path $diagOut 'workflow_console.log') -Force }[0m
2026-02-21T07:43:51.8409905Z [36;1mif ($runLogPath -and (Test-Path $runLogPath)) { Copy-Item -Path $runLogPath -Destination (Join-Path $diagOut (Split-Path $runLogPath -Leaf)) -Force }[0m
2026-02-21T07:43:51.8410973Z [36;1mif (Test-Path $oneTapReportWorkspace) { Copy-Item -Path $oneTapReportWorkspace -Destination (Join-Path $diagOut 'ONE_TAP_ERROR_REPORT.txt') -Force }[0m
2026-02-21T07:43:51.8411864Z [36;1mGet-ChildItem -Path $stepSummaryGlob -File -ErrorAction SilentlyContinue | ForEach-Object {[0m
2026-02-21T07:43:51.8412490Z [36;1m  Copy-Item -Path $_.FullName -Destination (Join-Path $diagOut $_.Name) -Force[0m
2026-02-21T07:43:51.8412902Z [36;1m}[0m
2026-02-21T07:43:51.8413053Z [36;1m[0m
2026-02-21T07:43:51.8413408Z [36;1mforeach ($subDir in @('pages', 'blocks')) {[0m
2026-02-21T07:43:51.8413724Z [36;1m  $src = Join-Path $runnerDiag $subDir[0m
2026-02-21T07:43:51.8413998Z [36;1m  if (Test-Path $src) {[0m
2026-02-21T07:43:51.8414390Z [36;1m    Copy-Item -Path $src -Destination (Join-Path $diagOut $subDir) -Recurse -Force[0m
2026-02-21T07:43:51.8414784Z [36;1m  }[0m
2026-02-21T07:43:51.8414945Z [36;1m}[0m
2026-02-21T07:43:51.8415096Z [36;1m[0m
2026-02-21T07:43:51.8415747Z [36;1m$runnerTailText = if ($latestRunnerLog) { Get-MaskedTail -Path $latestRunnerLog.FullName -Tail 200 } else { '(runner diag not found)' }[0m
2026-02-21T07:43:51.8416632Z [36;1m$workflowTailText = if (Test-Path $workflowLog) { Get-MaskedTail -Path $workflowLog -Tail 200 } else { '(workflow log not found)' }[0m
2026-02-21T07:43:51.8417165Z [36;1m[0m
2026-02-21T07:43:51.8417380Z [36;1m$summaryPath = Join-Path $diagOut 'summary.md'[0m
2026-02-21T07:43:51.8417664Z [36;1m$summary = @([0m
2026-02-21T07:43:51.8417867Z [36;1m  '# Diagnostics Summary',[0m
2026-02-21T07:43:51.8418077Z [36;1m  '',[0m
2026-02-21T07:43:51.8418240Z [36;1m  "- repo: $repo",[0m
2026-02-21T07:43:51.8418447Z [36;1m  "- branch: $branch",[0m
2026-02-21T07:43:51.8418649Z [36;1m  "- sha: $sha",[0m
2026-02-21T07:43:51.8418841Z [36;1m  "- run_id: $runId",[0m
2026-02-21T07:43:51.8419050Z [36;1m  "- attempt: $runAttempt",[0m
2026-02-21T07:43:51.8419304Z [36;1m  "- failing_step: $env:FAILING_STEP",[0m
2026-02-21T07:43:51.8419585Z [36;1m  "- artifact_name: $artifactName",[0m
2026-02-21T07:43:51.8419888Z [36;1m  '- one_tap_report: See ONE_TAP_ERROR_REPORT.txt',[0m
2026-02-21T07:43:51.8420164Z [36;1m  '',[0m
2026-02-21T07:43:51.8420366Z [36;1m  '## runner_diag_tail (last 200 lines)',[0m
2026-02-21T07:43:51.8420615Z [36;1m  '```text',[0m
2026-02-21T07:43:51.8420805Z [36;1m  $runnerTailText,[0m
2026-02-21T07:43:51.8420999Z [36;1m  '```',[0m
2026-02-21T07:43:51.8421161Z [36;1m  '',[0m
2026-02-21T07:43:51.8421343Z [36;1m  '## workflow_tail (last 200 lines)',[0m
2026-02-21T07:43:51.8421587Z [36;1m  '```text',[0m
2026-02-21T07:43:51.8421772Z [36;1m  $workflowTailText,[0m
2026-02-21T07:43:51.8421963Z [36;1m  '```'[0m
2026-02-21T07:43:51.8422125Z [36;1m) -join "`r`n"[0m
2026-02-21T07:43:51.8422340Z [36;1m$summary = Mask-Secrets -Text $summary[0m
2026-02-21T07:43:51.8422692Z [36;1mSet-Content -Path $summaryPath -Value $summary -Encoding UTF8[0m
2026-02-21T07:43:51.8423015Z [36;1m[0m
2026-02-21T07:43:51.8423265Z [36;1m$runnerTailPath = Join-Path $diagOut 'runner_diag_tail.txt'[0m
2026-02-21T07:43:51.8423718Z [36;1mSet-Content -Path $runnerTailPath -Value $runnerTailText -Encoding UTF8[0m
2026-02-21T07:43:51.8424173Z [36;1m$workflowTailPath = Join-Path $diagOut 'workflow_tail.txt'[0m
2026-02-21T07:43:51.8425112Z [36;1mSet-Content -Path $workflowTailPath -Value $workflowTailText -Encoding UTF8[0m
2026-02-21T07:43:51.8425510Z [36;1m[0m
2026-02-21T07:43:51.8425763Z [36;1m$fullZip = Join-Path $env:RUNNER_TEMP ("{0}.zip" -f $artifactName)[0m
2026-02-21T07:43:51.8426190Z [36;1mif (Test-Path $fullZip) { Remove-Item $fullZip -Force }[0m
2026-02-21T07:43:51.8426659Z [36;1mCompress-Archive -Path (Join-Path $diagOut '*') -DestinationPath $fullZip -Force[0m
2026-02-21T07:43:51.8427050Z [36;1m[0m
2026-02-21T07:43:51.8427368Z [36;1m"diag_out=$diagOut" | Out-File -FilePath $env:GITHUB_OUTPUT -Encoding utf8 -Append[0m
2026-02-21T07:43:51.8427938Z [36;1m"diag_summary=$summaryPath" | Out-File -FilePath $env:GITHUB_OUTPUT -Encoding utf8 -Append[0m
2026-02-21T07:43:51.8428565Z [36;1m"diag_runner_tail=$runnerTailPath" | Out-File -FilePath $env:GITHUB_OUTPUT -Encoding utf8 -Append[0m
2026-02-21T07:43:51.8429228Z [36;1m"diag_workflow_tail=$workflowTailPath" | Out-File -FilePath $env:GITHUB_OUTPUT -Encoding utf8 -Append[0m
2026-02-21T07:43:51.8429824Z [36;1m"diag_zip=$fullZip" | Out-File -FilePath $env:GITHUB_OUTPUT -Encoding utf8 -Append[0m
2026-02-21T07:43:51.8430410Z [36;1m"diag_artifact_name=$artifactName" | Out-File -FilePath $env:GITHUB_OUTPUT -Encoding utf8 -Append[0m
2026-02-21T07:43:51.8446624Z shell: C:\Windows\System32\WindowsPowerShell\v1.0\powershell.EXE -NoProfile -ExecutionPolicy Bypass -Command "{0}"
2026-02-21T07:43:51.8447118Z env:
2026-02-21T07:43:51.8447345Z   REPO_ROOT: C:\work\apex_repo_cache\ApexTraderAI
2026-02-21T07:43:51.8447614Z   FAILING_STEP: unknown
2026-02-21T07:43:51.8447792Z ##[endgroup]
2026-02-21T07:43:52.8431436Z ##[group]Run actions/upload-artifact@v4
2026-02-21T07:43:52.8431807Z with:
2026-02-21T07:43:52.8431975Z   name: diag_full_22252976665_1
2026-02-21T07:43:52.8432211Z   if-no-files-found: warn
2026-02-21T07:43:52.8432425Z   retention-days: 7
2026-02-21T07:43:52.8432891Z   path: C:\Users\becky\OneDrive\ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—\Python\apex-trader-ai\actions-runner\_work\_temp\diag_full_22252976665_1.zip
2026-02-21T07:43:52.8433451Z   compression-level: 6
2026-02-21T07:43:52.8433661Z   overwrite: false
2026-02-21T07:43:52.8433860Z   include-hidden-files: false
2026-02-21T07:43:52.8434109Z env:
2026-02-21T07:43:52.8434318Z   REPO_ROOT: C:\work\apex_repo_cache\ApexTraderAI
2026-02-21T07:43:52.8434598Z ##[endgroup]
2026-02-21T07:43:53.1254338Z With the provided path, there will be 1 file uploaded
2026-02-21T07:43:53.1261313Z Artifact name is valid!
2026-02-21T07:43:53.1264769Z Root directory input is valid!
2026-02-21T07:43:53.7468155Z Beginning upload of artifact content to blob storage
2026-02-21T07:43:54.8009555Z Uploaded bytes 88462
2026-02-21T07:43:54.9772935Z Finished uploading artifact content to blob storage!
2026-02-21T07:43:54.9776026Z SHA256 digest of uploaded artifact zip is a783d0ed83ffa3da9189a41261bd6697538b28697ea7e778ad0a0ca0dd1feb78
2026-02-21T07:43:54.9777942Z Finalizing artifact upload
2026-02-21T07:43:55.2170970Z Artifact diag_full_22252976665_1.zip successfully finalized. Artifact ID 5600264081
2026-02-21T07:43:55.2171877Z Artifact diag_full_22252976665_1 has been successfully uploaded! Final size is 88462 bytes. Artifact ID is 5600264081
2026-02-21T07:43:55.2187256Z Artifact download URL: https://github.com/toki866/ApexTraderAI/actions/runs/22252976665/artifacts/5600264081
2026-02-21T07:43:55.2511507Z ##[group]Run actions/upload-artifact@v4
2026-02-21T07:43:55.2511839Z with:
2026-02-21T07:43:55.2512011Z   name: diagnostics
2026-02-21T07:43:55.2512210Z   if-no-files-found: warn
2026-02-21T07:43:55.2512437Z   path: _diagnostics/**/*
2026-02-21T07:43:55.2512656Z   compression-level: 6
2026-02-21T07:43:55.2512860Z   overwrite: false
2026-02-21T07:43:55.2513062Z   include-hidden-files: false
2026-02-21T07:43:55.2513290Z env:
2026-02-21T07:43:55.2513501Z   REPO_ROOT: C:\work\apex_repo_cache\ApexTraderAI
2026-02-21T07:43:55.2513789Z ##[endgroup]
2026-02-21T07:43:55.6350478Z ##[warning]No files were found with the provided path: _diagnostics/**/*. No artifacts will be uploaded.
2026-02-21T07:43:55.6471424Z Cleaning up orphan processes

----- FILE: actions_logs/run/10_Stage console log in workspace.txt -----
ï»¿2026-02-21T07:43:32.3700250Z ##[group]Run $workspaceTemp = Join-Path $env:GITHUB_WORKSPACE 'temp'
2026-02-21T07:43:32.3701170Z [36;1m$workspaceTemp = Join-Path $env:GITHUB_WORKSPACE 'temp'[0m
2026-02-21T07:43:32.3701818Z [36;1m$null = New-Item -Path $workspaceTemp -ItemType Directory -Force[0m
2026-02-21T07:43:32.3702640Z [36;1m$consoleLog = Join-Path $env:RUNNER_TEMP 'run_all_local_then_copy_console.log'[0m
2026-02-21T07:43:32.3703573Z [36;1m$workspaceConsoleLog = Join-Path $workspaceTemp 'run_all_local_then_copy_console.log'[0m
2026-02-21T07:43:32.3704298Z [36;1mif (Test-Path $consoleLog) {[0m
2026-02-21T07:43:32.3704964Z [36;1m  Copy-Item -Path $consoleLog -Destination $workspaceConsoleLog -Force[0m
2026-02-21T07:43:32.3705782Z [36;1m  Write-Host "Staged console log: $workspaceConsoleLog"[0m
2026-02-21T07:43:32.3706302Z [36;1m} else {[0m
2026-02-21T07:43:32.3706712Z [36;1m  Write-Warning "Console log not found at: $consoleLog"[0m
2026-02-21T07:43:32.3707223Z [36;1m  @([0m
2026-02-21T07:43:32.3707609Z [36;1m    '[WARN] Console log was not generated by BAT execution.',[0m
2026-02-21T07:43:32.3708520Z [36;1m    '[WARN] Never finish a workflow run without leaving a readable log artifact.',[0m
2026-02-21T07:43:32.3709318Z [36;1m    ('[WARN] generated_at={0}' -f (Get-Date -Format 'yyyy-MM-dd HH:mm:ss zzz'))[0m
2026-02-21T07:43:32.3710051Z [36;1m  ) | Set-Content -Path $workspaceConsoleLog -Encoding UTF8[0m
2026-02-21T07:43:32.3710896Z [36;1m  Write-Host "Created fallback console log: $workspaceConsoleLog"[0m
2026-02-21T07:43:32.3711398Z [36;1m}[0m
2026-02-21T07:43:32.3742840Z shell: C:\Windows\System32\WindowsPowerShell\v1.0\powershell.EXE -NoProfile -ExecutionPolicy Bypass -Command "{0}"
2026-02-21T07:43:32.3743576Z env:
2026-02-21T07:43:32.3743914Z   REPO_ROOT: C:\work\apex_repo_cache\ApexTraderAI
2026-02-21T07:43:32.3744433Z ##[endgroup]
2026-02-21T07:43:32.7008075Z Staged console log: C:\Users\becky\OneDrive\ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—\Python\apex-trader-ai\actions-runner\_work\ApexTraderAI\ApexTraderAI\temp\run_all_local_then_copy_console.log

----- FILE: actions_logs/run/11_Append error tails to ONE_TAP (always).txt -----
ï»¿2026-02-21T07:43:32.7332884Z ##[group]Run $ErrorActionPreference = 'Continue'
2026-02-21T07:43:32.7333858Z [36;1m$ErrorActionPreference = 'Continue'[0m
2026-02-21T07:43:32.7334311Z [36;1m[0m
2026-02-21T07:43:32.7334808Z [36;1m$report = Join-Path $env:GITHUB_WORKSPACE 'temp\ONE_TAP_ERROR_REPORT.txt'[0m
2026-02-21T07:43:32.7335434Z [36;1mif (!(Test-Path $report)) {[0m
2026-02-21T07:43:32.7336129Z [36;1m  New-Item -Path (Split-Path $report -Parent) -ItemType Directory -Force | Out-Null[0m
2026-02-21T07:43:32.7337201Z [36;1m  '[WARN] ONE_TAP report missing; created.' | Set-Content -Path $report -Encoding UTF8[0m
2026-02-21T07:43:32.7337896Z [36;1m}[0m
2026-02-21T07:43:32.7338142Z [36;1m[0m
2026-02-21T07:43:32.7338394Z [36;1mAdd-Content $report ""[0m
2026-02-21T07:43:32.7338787Z [36;1mAdd-Content $report "[STEP] append_error_tails"[0m
2026-02-21T07:43:32.7339565Z [36;1mAdd-Content $report ("timestamp={0}" -f (Get-Date -Format 'yyyy-MM-dd HH:mm:ss zzz'))[0m
2026-02-21T07:43:32.7340152Z [36;1m[0m
2026-02-21T07:43:32.7340511Z [36;1m# python env snapshot (to compare with local)[0m
2026-02-21T07:43:32.7341016Z [36;1mAdd-Content $report "---- python_env ----"[0m
2026-02-21T07:43:32.7341740Z [36;1mtry { (& where.exe python 2>&1) | Add-Content $report } catch { ($_ | Out-String) | Add-Content $report }[0m
2026-02-21T07:43:32.7342753Z [36;1mtry { (& python --version 2>&1) | Add-Content $report } catch { ($_ | Out-String) | Add-Content $report }[0m
2026-02-21T07:43:32.7344111Z [36;1mtry { (& python -c "import sys; print(sys.executable)" 2>&1) | Add-Content $report } catch { ($_ | Out-String) | Add-Content $report }[0m
2026-02-21T07:43:32.7344934Z [36;1m[0m
2026-02-21T07:43:32.7345173Z [36;1m# console log tail[0m
2026-02-21T07:43:32.7345734Z [36;1m$consoleLog = Join-Path $env:RUNNER_TEMP 'run_all_local_then_copy_console.log'[0m
2026-02-21T07:43:32.7346941Z [36;1mAdd-Content $report ("[INFO] console_log={0}" -f $consoleLog)[0m
2026-02-21T07:43:32.7347541Z [36;1mif (Test-Path $consoleLog) {[0m
2026-02-21T07:43:32.7348084Z [36;1m  Add-Content $report "---- console_log_tail (last 350 lines) ----"[0m
2026-02-21T07:43:32.7348983Z [36;1m  (Get-Content $consoleLog -Tail 350 -ErrorAction SilentlyContinue) | Add-Content $report[0m
2026-02-21T07:43:32.7349762Z [36;1m} else {[0m
2026-02-21T07:43:32.7350132Z [36;1m  Add-Content $report "[WARN] console log not found"[0m
2026-02-21T07:43:32.7350561Z [36;1m}[0m
2026-02-21T07:43:32.7350762Z [36;1m[0m
2026-02-21T07:43:32.7351010Z [36;1m# run_*.log tail (best effort)[0m
2026-02-21T07:43:32.7351406Z [36;1m$workRoot = 'C:\work\apex_work\runs'[0m
2026-02-21T07:43:32.7352176Z [36;1m$latestRunDir = Get-ChildItem -Path $workRoot -Directory -ErrorAction SilentlyContinue |[0m
2026-02-21T07:43:32.7353051Z [36;1m  Sort-Object LastWriteTime -Descending | Select-Object -First 1[0m
2026-02-21T07:43:32.7353863Z [36;1mAdd-Content $report ("[INFO] work_root={0}" -f $workRoot)[0m
2026-02-21T07:43:32.7354502Z [36;1mif ($latestRunDir) {[0m
2026-02-21T07:43:32.7355086Z [36;1m  Add-Content $report ("[INFO] latest_run_dir={0}" -f $latestRunDir.FullName)[0m
2026-02-21T07:43:32.7356215Z [36;1m  $latestRunLog = Get-ChildItem -Path (Join-Path $latestRunDir.FullName 'logs') -Filter 'run_*.log' -File -ErrorAction SilentlyContinue |[0m
2026-02-21T07:43:32.7357276Z [36;1m    Sort-Object LastWriteTime -Descending | Select-Object -First 1[0m
2026-02-21T07:43:32.7357841Z [36;1m  if ($latestRunLog) {[0m
2026-02-21T07:43:32.7358393Z [36;1m    Add-Content $report ("[INFO] run_log={0}" -f $latestRunLog.FullName)[0m
2026-02-21T07:43:32.7359202Z [36;1m    Add-Content $report "---- run_log_tail (last 350 lines) ----"[0m
2026-02-21T07:43:32.7360063Z [36;1m    (Get-Content $latestRunLog.FullName -Tail 350 -ErrorAction SilentlyContinue) | Add-Content $report[0m
2026-02-21T07:43:32.7360760Z [36;1m  } else {[0m
2026-02-21T07:43:32.7361280Z [36;1m    Add-Content $report "[WARN] run_*.log not found under latest_run_dir\logs"[0m
2026-02-21T07:43:32.7364871Z [36;1m  }[0m
2026-02-21T07:43:32.7365175Z [36;1m} else {[0m
2026-02-21T07:43:32.7365686Z [36;1m  Add-Content $report "[WARN] no run_dir found under work_root"[0m
2026-02-21T07:43:32.7366171Z [36;1m}[0m
2026-02-21T07:43:32.7366403Z [36;1m[0m
2026-02-21T07:43:32.7366629Z [36;1m$global:LASTEXITCODE = 0[0m
2026-02-21T07:43:32.7366963Z [36;1mexit 0[0m
2026-02-21T07:43:32.7396932Z shell: C:\Windows\System32\WindowsPowerShell\v1.0\powershell.EXE -NoProfile -ExecutionPolicy Bypass -Command "{0}"
2026-02-21T07:43:32.7397477Z env:
2026-02-21T07:43:32.7397682Z   REPO_ROOT: C:\work\apex_repo_cache\ApexTraderAI
2026-02-21T07:43:32.7397966Z ##[endgroup]

----- FILE: actions_logs/run/12_Package diagnostics to OneDrive (always).txt -----
ï»¿2026-02-21T07:43:33.4695406Z ##[group]Run $ErrorActionPreference = 'Stop'
2026-02-21T07:43:33.4696241Z [36;1m$ErrorActionPreference = 'Stop'[0m
2026-02-21T07:43:33.4697118Z [36;1m$diagScript = Join-Path $env:REPO_ROOT 'scripts\package_diagnostics_to_onedrive.ps1'[0m
2026-02-21T07:43:33.4698235Z [36;1m$reportPath = Join-Path $env:GITHUB_WORKSPACE 'temp\ONE_TAP_ERROR_REPORT.txt'[0m
2026-02-21T07:43:33.4698910Z [36;1m[0m
2026-02-21T07:43:33.4699275Z [36;1mAdd-Content -Path $reportPath -Value @([0m
2026-02-21T07:43:33.4699854Z [36;1m  '[STEP] package_diagnostics_to_onedrive',[0m
2026-02-21T07:43:33.4700414Z [36;1m  ('[INFO] diag_script={0}' -f $diagScript)[0m
2026-02-21T07:43:33.4700961Z [36;1m)[0m
2026-02-21T07:43:33.4701490Z [36;1mWrite-Host "Diagnostics script path: $diagScript"[0m
2026-02-21T07:43:33.4701989Z [36;1m[0m
2026-02-21T07:43:33.4702257Z [36;1m$diagDirCandidates = @()[0m
2026-02-21T07:43:33.4702800Z [36;1mif ($env:OneDrive) {[0m
2026-02-21T07:43:33.4703509Z [36;1m  $diagDirCandidates += (Join-Path $env:OneDrive 'ApexTraderAI\diagnostics')[0m
2026-02-21T07:43:33.4704705Z [36;1m}[0m
2026-02-21T07:43:33.4705042Z [36;1mif ($env:USERPROFILE) {[0m
2026-02-21T07:43:33.4705878Z [36;1m  $diagDirCandidates += (Join-Path $env:USERPROFILE 'OneDrive\ApexTraderAI\diagnostics')[0m
2026-02-21T07:43:33.4706731Z [36;1m}[0m
2026-02-21T07:43:33.4707326Z [36;1m$diagDirCandidates += (Join-Path $env:RUNNER_TEMP 'ApexTraderAI\diagnostics')[0m
2026-02-21T07:43:33.4708082Z [36;1m[0m
2026-02-21T07:43:33.4708434Z [36;1m$selectedDiagDir = $null[0m
2026-02-21T07:43:33.4708906Z [36;1mforeach ($candidate in $diagDirCandidates) {[0m
2026-02-21T07:43:33.4709398Z [36;1m  try {[0m
2026-02-21T07:43:33.4709991Z [36;1m    $null = New-Item -Path $candidate -ItemType Directory -Force -ErrorAction Stop[0m
2026-02-21T07:43:33.4710868Z [36;1m    $selectedDiagDir = $candidate[0m
2026-02-21T07:43:33.4711316Z [36;1m    break[0m
2026-02-21T07:43:33.4711592Z [36;1m  } catch {[0m
2026-02-21T07:43:33.4712574Z [36;1m    Write-Warning "Diagnostics dir candidate unavailable: $candidate ($($_.Exception.Message))"[0m
2026-02-21T07:43:33.4713603Z [36;1m  }[0m
2026-02-21T07:43:33.4714060Z [36;1m}[0m
2026-02-21T07:43:33.4714461Z [36;1m[0m
2026-02-21T07:43:33.4714859Z [36;1mif (-not $selectedDiagDir) {[0m
2026-02-21T07:43:33.4715550Z [36;1m  Add-Content -Path $reportPath -Value @([0m
2026-02-21T07:43:33.4716256Z [36;1m    '[NG] package_diagnostics_to_onedrive',[0m
2026-02-21T07:43:33.4716858Z [36;1m    '[NG] selected diagnostics dir unavailable',[0m
2026-02-21T07:43:33.4717574Z [36;1m    ''[0m
2026-02-21T07:43:33.4718234Z [36;1m  )[0m
2026-02-21T07:43:33.4719499Z [36;1m  throw 'Unable to resolve diagnostics output directory from OneDrive/USERPROFILE/RUNNER_TEMP candidates.'[0m
2026-02-21T07:43:33.4720379Z [36;1m}[0m
2026-02-21T07:43:33.4720640Z [36;1m[0m
2026-02-21T07:43:33.4721369Z [36;1mWrite-Host "Selected diagnostics output dir: $selectedDiagDir"[0m
2026-02-21T07:43:33.4722576Z [36;1m"diag_dir=$selectedDiagDir" | Out-File -FilePath $env:GITHUB_OUTPUT -Encoding utf8 -Append[0m
2026-02-21T07:43:33.4723252Z [36;1m[0m
2026-02-21T07:43:33.4723457Z [36;1mif (Test-Path $diagScript) {[0m
2026-02-21T07:43:33.4723989Z [36;1m  powershell -NoProfile -ExecutionPolicy Bypass -File $diagScript -DiagDir "$selectedDiagDir"[0m
2026-02-21T07:43:33.4724536Z [36;1m  if ($LASTEXITCODE -ne 0) {[0m
2026-02-21T07:43:33.4724839Z [36;1m    Add-Content -Path $reportPath -Value @([0m
2026-02-21T07:43:33.4725191Z [36;1m      '[NG] package_diagnostics_to_onedrive',[0m
2026-02-21T07:43:33.4725532Z [36;1m      ('[NG] exit_code={0}' -f $LASTEXITCODE),[0m
2026-02-21T07:43:33.4725813Z [36;1m      ''[0m
2026-02-21T07:43:33.4726005Z [36;1m    )[0m
2026-02-21T07:43:33.4726305Z [36;1m    Write-Error "Diagnostics script exited with code $LASTEXITCODE"[0m
2026-02-21T07:43:33.4726705Z [36;1m    exit $LASTEXITCODE[0m
2026-02-21T07:43:33.4726928Z [36;1m  }[0m
2026-02-21T07:43:33.4729297Z [36;1m  Add-Content -Path $reportPath -Value @([0m
2026-02-21T07:43:33.4729755Z [36;1m    '[OK] package_diagnostics_to_onedrive',[0m
2026-02-21T07:43:33.4730122Z [36;1m    ('[OK] diag_dir={0}' -f $selectedDiagDir),[0m
2026-02-21T07:43:33.4730428Z [36;1m    ''[0m
2026-02-21T07:43:33.4730595Z [36;1m  )[0m
2026-02-21T07:43:33.4730770Z [36;1m} else {[0m
2026-02-21T07:43:33.4731020Z [36;1m  Add-Content -Path $reportPath -Value @([0m
2026-02-21T07:43:33.4731381Z [36;1m    '[NG] package_diagnostics_to_onedrive',[0m
2026-02-21T07:43:33.4731717Z [36;1m    '[NG] diagnostics script not found',[0m
2026-02-21T07:43:33.4732008Z [36;1m    ''[0m
2026-02-21T07:43:33.4732177Z [36;1m  )[0m
2026-02-21T07:43:33.4732453Z [36;1m  Write-Error "Diagnostics script not found: $diagScript"[0m
2026-02-21T07:43:33.4732820Z [36;1m  exit 1[0m
2026-02-21T07:43:33.4732994Z [36;1m}[0m
2026-02-21T07:43:33.4733152Z [36;1m[0m
2026-02-21T07:43:33.4733387Z [36;1mif ((Get-Item $reportPath).Length -gt 60000) {[0m
2026-02-21T07:43:33.4733818Z [36;1m  $tail = Get-Content -Path $reportPath -Raw[0m
2026-02-21T07:43:33.4734451Z [36;1m  $tail = $tail.Substring([Math]::Max(0, $tail.Length - 60000))[0m
2026-02-21T07:43:33.4734956Z [36;1m  Set-Content -Path $reportPath -Value $tail -Encoding UTF8[0m
2026-02-21T07:43:33.4735326Z [36;1m}[0m
2026-02-21T07:43:33.4763883Z shell: C:\Windows\System32\WindowsPowerShell\v1.0\powershell.EXE -NoProfile -ExecutionPolicy Bypass -Command "{0}"
2026-02-21T07:43:33.4764831Z env:
2026-02-21T07:43:33.4765145Z   REPO_ROOT: C:\work\apex_repo_cache\ApexTraderAI
2026-02-21T07:43:33.4765590Z ##[endgroup]
2026-02-21T07:43:33.7323776Z Diagnostics script path: C:\work\apex_repo_cache\ApexTraderAI\scripts\package_diagnostics_to_onedrive.ps1
2026-02-21T07:43:33.7415445Z Selected diagnostics output dir: C:\Users\becky\OneDrive\ApexTraderAI\diagnostics
2026-02-21T07:43:33.9713309Z runnerDiag=C:\Users\becky\OneDrive\ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—\Python\apex-trader-ai\actions-runner\_diag
2026-02-21T07:43:33.9717942Z diagDir=C:\Users\becky\OneDrive\ApexTraderAI\diagnostics
2026-02-21T07:43:34.4456223Z WARNING: Primary diagnostics archive failed: The process cannot access the file 
2026-02-21T07:43:34.4464323Z 'C:\Users\becky\OneDrive\ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—\Python\apex-trader-ai\actions-runner\_diag\blocks\db512412-092a-4eac-b232-fb24de301157_
2026-02-21T07:43:34.4465495Z 47fa686b-0271-5716-8a52-8442a114c169.1' because it is being used by another process.
2026-02-21T07:43:34.5484583Z zipPath=C:\Users\becky\OneDrive\ApexTraderAI\diagnostics\diag_22252976665_1_20260221_164333.zip
2026-02-21T07:43:34.5742180Z 
2026-02-21T07:43:34.5742498Z 
2026-02-21T07:43:34.5743995Z     ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª: C:\Users\becky\OneDrive\ApexTraderAI\diagnostics
2026-02-21T07:43:34.5744288Z 
2026-02-21T07:43:34.5744293Z 
2026-02-21T07:43:34.5747794Z Mode                 LastWriteTime         Length Name                                                                 
2026-02-21T07:43:34.5749153Z ----                 -------------         ------ ----                                                                 
2026-02-21T07:43:34.5752367Z -a----        2026/02/21     16:43           4839 diag_22252976665_1_20260221_164333.zip                               
2026-02-21T07:43:34.5760353Z -a----        2026/02/21     16:11           4806 diag_22252533924_1_20260221_161105.zip                               
2026-02-21T07:43:34.5767676Z -a----        2026/02/21     15:35           4851 diag_22252052676_1_20260221_153526.zip                               
2026-02-21T07:43:34.5774237Z -a----        2026/02/21     15:17           4846 diag_22251800216_1_20260221_151709.zip                               
2026-02-21T07:43:34.5780472Z -a----        2026/02/21     13:43           4912 diag_22250512578_1_20260221_134327.zip                               
2026-02-21T07:43:34.5786653Z -a----        2026/02/21     11:34           4944 diag_22248695422_1_20260221_113420.zip                               
2026-02-21T07:43:34.5793636Z -a----        2026/02/21     11:09           4759 diag_22248308415_1_20260221_110900.zip                               
2026-02-21T07:43:34.5800657Z -a----        2026/02/21     10:51           4964 diag_22248046183_1_20260221_105148.zip                               
2026-02-21T07:43:34.5801367Z 
2026-02-21T07:43:34.5801376Z 

----- FILE: actions_logs/run/13_Verify diagnostics directory content.txt -----
ï»¿2026-02-21T07:43:34.6649668Z ##[group]Run $ErrorActionPreference = 'Stop'
2026-02-21T07:43:34.6650232Z [36;1m$ErrorActionPreference = 'Stop'[0m
2026-02-21T07:43:34.6650634Z [36;1m$diagDir = 'C:\Users\becky\OneDrive\ApexTraderAI\diagnostics'[0m
2026-02-21T07:43:34.6650974Z [36;1mif (-not $diagDir) {[0m
2026-02-21T07:43:34.6651298Z [36;1m  $diagDir = Join-Path $env:RUNNER_TEMP 'ApexTraderAI\diagnostics'[0m
2026-02-21T07:43:34.6651791Z [36;1m}[0m
2026-02-21T07:43:34.6652012Z [36;1mWrite-Host '=== diagnostics dir listing ==='[0m
2026-02-21T07:43:34.6652319Z [36;1mif (Test-Path $diagDir) {[0m
2026-02-21T07:43:34.6652554Z [36;1m  dir $diagDir[0m
2026-02-21T07:43:34.6652751Z [36;1m} else {[0m
2026-02-21T07:43:34.6653050Z [36;1m  Write-Warning "Diagnostics directory not found: $diagDir"[0m
2026-02-21T07:43:34.6653662Z [36;1m}[0m
2026-02-21T07:43:34.6653824Z [36;1m[0m
2026-02-21T07:43:34.6654239Z [36;1m$latestZip = Get-ChildItem -Path $diagDir -File -Filter 'diag_*.zip' -ErrorAction SilentlyContinue |[0m
2026-02-21T07:43:34.6654829Z [36;1m  Sort-Object LastWriteTime -Descending |[0m
2026-02-21T07:43:34.6655142Z [36;1m  Select-Object -First 1[0m
2026-02-21T07:43:34.6655368Z [36;1m[0m
2026-02-21T07:43:34.6655561Z [36;1mif (-not $latestZip) {[0m
2026-02-21T07:43:34.6655918Z [36;1m  Write-Warning "diag zip missing in $diagDir"[0m
2026-02-21T07:43:34.6657276Z [36;1m  Write-Host 'Hint: package diagnostics step uses OneDrive -> USERPROFILE\\OneDrive -> RUNNER_TEMP fallback. Check step logs for selected path and creation errors.'[0m
2026-02-21T07:43:34.6657977Z [36;1m  exit 0[0m
2026-02-21T07:43:34.6658160Z [36;1m}[0m
2026-02-21T07:43:34.6658335Z [36;1m[0m
2026-02-21T07:43:34.6658561Z [36;1mWrite-Host "latestDiagZip=$($latestZip.FullName)"[0m
2026-02-21T07:43:34.6676922Z shell: C:\Windows\System32\WindowsPowerShell\v1.0\powershell.EXE -NoProfile -ExecutionPolicy Bypass -Command "{0}"
2026-02-21T07:43:34.6677475Z env:
2026-02-21T07:43:34.6677685Z   REPO_ROOT: C:\work\apex_repo_cache\ApexTraderAI
2026-02-21T07:43:34.6677999Z ##[endgroup]
2026-02-21T07:43:34.9371603Z === diagnostics dir listing ===
2026-02-21T07:43:34.9821792Z 
2026-02-21T07:43:34.9822133Z 
2026-02-21T07:43:34.9823925Z     ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª: C:\Users\becky\OneDrive\ApexTraderAI\diagnostics
2026-02-21T07:43:34.9824215Z 
2026-02-21T07:43:34.9824221Z 
2026-02-21T07:43:34.9827894Z Mode                 LastWriteTime         Length Name                                                                 
2026-02-21T07:43:34.9829011Z ----                 -------------         ------ ----                                                                 
2026-02-21T07:43:34.9832328Z -a----        2026/02/21     10:51           4964 diag_22248046183_1_20260221_105148.zip                               
2026-02-21T07:43:34.9840967Z -a----        2026/02/21     11:09           4759 diag_22248308415_1_20260221_110900.zip                               
2026-02-21T07:43:34.9847907Z -a----        2026/02/21     11:34           4944 diag_22248695422_1_20260221_113420.zip                               
2026-02-21T07:43:34.9854924Z -a----        2026/02/21     13:43           4912 diag_22250512578_1_20260221_134327.zip                               
2026-02-21T07:43:34.9865463Z -a----        2026/02/21     15:17           4846 diag_22251800216_1_20260221_151709.zip                               
2026-02-21T07:43:34.9873233Z -a----        2026/02/21     15:35           4851 diag_22252052676_1_20260221_153526.zip                               
2026-02-21T07:43:34.9880619Z -a----        2026/02/21     16:11           4806 diag_22252533924_1_20260221_161105.zip                               
2026-02-21T07:43:34.9888769Z -a----        2026/02/21     16:43           4839 diag_22252976665_1_20260221_164333.zip                               
2026-02-21T07:43:35.0013246Z latestDiagZip=C:\Users\becky\OneDrive\ApexTraderAI\diagnostics\diag_22252976665_1_20260221_164333.zip
2026-02-21T07:43:35.0018847Z 
2026-02-21T07:43:35.0018986Z 

----- FILE: actions_logs/run/15_Resolve latest run artifacts.txt -----
ï»¿2026-02-21T07:43:35.0454699Z ##[group]Run $workRoot = 'C:\work\apex_work\runs'
2026-02-21T07:43:35.0455485Z [36;1m$workRoot = 'C:\work\apex_work\runs'[0m
2026-02-21T07:43:35.0456328Z [36;1m$consoleLog = Join-Path $env:RUNNER_TEMP 'run_all_local_then_copy_console.log'[0m
2026-02-21T07:43:35.0457455Z [36;1m$reportPath = Join-Path $env:GITHUB_WORKSPACE 'temp\ONE_TAP_ERROR_REPORT.txt'[0m
2026-02-21T07:43:35.0458256Z [36;1m[0m
2026-02-21T07:43:35.0458689Z [36;1mAdd-Content -Path $reportPath -Value @([0m
2026-02-21T07:43:35.0459325Z [36;1m  '[STEP] resolve_latest_run_artifacts',[0m
2026-02-21T07:43:35.0459929Z [36;1m  ('[INFO] work_root={0}' -f $workRoot)[0m
2026-02-21T07:43:35.0460425Z [36;1m)[0m
2026-02-21T07:43:35.0460716Z [36;1m[0m
2026-02-21T07:43:35.0461323Z [36;1m$runId = ''[0m
2026-02-21T07:43:35.0461715Z [36;1mif (Test-Path $consoleLog) {[0m
2026-02-21T07:43:35.0462689Z [36;1m  $runIdLine = Select-String -Path $consoleLog -Pattern '^\[OK\] run_id=' | Select-Object -Last 1[0m
2026-02-21T07:43:35.0463557Z [36;1m  if ($runIdLine) {[0m
2026-02-21T07:43:35.0464110Z [36;1m    $runId = ($runIdLine.Line -replace '^\[OK\] run_id=', '').Trim()[0m
2026-02-21T07:43:35.0464706Z [36;1m  }[0m
2026-02-21T07:43:35.0464960Z [36;1m}[0m
2026-02-21T07:43:35.0465186Z [36;1m[0m
2026-02-21T07:43:35.0465442Z [36;1m$runDir = $null[0m
2026-02-21T07:43:35.0465756Z [36;1mif ($runId) {[0m
2026-02-21T07:43:35.0466135Z [36;1m  $candidateDir = Join-Path $workRoot $runId[0m
2026-02-21T07:43:35.0466665Z [36;1m  if (Test-Path $candidateDir) {[0m
2026-02-21T07:43:35.0467176Z [36;1m    $runDir = Get-Item $candidateDir[0m
2026-02-21T07:43:35.0467628Z [36;1m  }[0m
2026-02-21T07:43:35.0467893Z [36;1m}[0m
2026-02-21T07:43:35.0468141Z [36;1m[0m
2026-02-21T07:43:35.0468539Z [36;1mif (-not $runDir -and (Test-Path $workRoot)) {[0m
2026-02-21T07:43:35.0469560Z [36;1m  $runDir = Get-ChildItem -Path $workRoot -Directory | Sort-Object LastWriteTime -Descending | Select-Object -First 1[0m
2026-02-21T07:43:35.0470555Z [36;1m  if ($runDir -and -not $runId) {[0m
2026-02-21T07:43:35.0470975Z [36;1m    $runId = $runDir.Name[0m
2026-02-21T07:43:35.0471312Z [36;1m  }[0m
2026-02-21T07:43:35.0471546Z [36;1m}[0m
2026-02-21T07:43:35.0471797Z [36;1m[0m
2026-02-21T07:43:35.0472044Z [36;1mif ($runId) {[0m
2026-02-21T07:43:35.0472604Z [36;1m  "run_id=$runId" | Out-File -FilePath $env:GITHUB_OUTPUT -Encoding utf8 -Append[0m
2026-02-21T07:43:35.0473329Z [36;1m  Write-Host "Resolved run_id=$runId"[0m
2026-02-21T07:43:35.0473784Z [36;1m} else {[0m
2026-02-21T07:43:35.0474463Z [36;1m  Add-Content -Path $reportPath -Value '[NG] resolve_latest_run_artifacts run_id unresolved'[0m
2026-02-21T07:43:35.0475519Z [36;1m  Write-Warning 'Failed to resolve run_id from console log and latest run folder.'[0m
2026-02-21T07:43:35.0476221Z [36;1m}[0m
2026-02-21T07:43:35.0476463Z [36;1m[0m
2026-02-21T07:43:35.0476698Z [36;1mif ($runDir) {[0m
2026-02-21T07:43:35.0477153Z [36;1m  $logGlob = Join-Path $runDir.FullName 'logs\run_*.log'[0m
2026-02-21T07:43:35.0477869Z [36;1m  $zipPath = Join-Path $runDir.FullName ("run_{0}.zip" -f $runDir.Name)[0m
2026-02-21T07:43:35.0478625Z [36;1m  $runLogPath = Join-Path $runDir.FullName ("logs\run_{0}.log" -f $runDir.Name)[0m
2026-02-21T07:43:35.0479186Z [36;1m  "log_glob=$logGlob" | Out-File -FilePath $env:GITHUB_OUTPUT -Encoding utf8 -Append[0m
2026-02-21T07:43:35.0479746Z [36;1m  "zip_path=$zipPath" | Out-File -FilePath $env:GITHUB_OUTPUT -Encoding utf8 -Append[0m
2026-02-21T07:43:35.0480327Z [36;1m  "run_log_path=$runLogPath" | Out-File -FilePath $env:GITHUB_OUTPUT -Encoding utf8 -Append[0m
2026-02-21T07:43:35.0480942Z [36;1m  "run_dir=$($runDir.FullName)" | Out-File -FilePath $env:GITHUB_OUTPUT -Encoding utf8 -Append[0m
2026-02-21T07:43:35.0481475Z [36;1m  Write-Host "Resolved run directory: $($runDir.FullName)"[0m
2026-02-21T07:43:35.0481791Z [36;1m}[0m
2026-02-21T07:43:35.0481933Z [36;1m[0m
2026-02-21T07:43:35.0482089Z [36;1mif ($runDir) {[0m
2026-02-21T07:43:35.0483806Z [36;1m  Add-Content -Path $reportPath -Value @([0m
2026-02-21T07:43:35.0484117Z [36;1m    '[OK] resolve_latest_run_artifacts',[0m
2026-02-21T07:43:35.0484418Z [36;1m    ('[OK] run_dir={0}' -f $runDir.FullName),[0m
2026-02-21T07:43:35.0484702Z [36;1m    ('[OK] run_id={0}' -f $runId),[0m
2026-02-21T07:43:35.0484930Z [36;1m    ''[0m
2026-02-21T07:43:35.0485090Z [36;1m  )[0m
2026-02-21T07:43:35.0485262Z [36;1m}[0m
2026-02-21T07:43:35.0485405Z [36;1m[0m
2026-02-21T07:43:35.0485612Z [36;1mif ((Get-Item $reportPath).Length -gt 60000) {[0m
2026-02-21T07:43:35.0485939Z [36;1m  $tail = Get-Content -Path $reportPath -Raw[0m
2026-02-21T07:43:35.0486304Z [36;1m  $tail = $tail.Substring([Math]::Max(0, $tail.Length - 60000))[0m
2026-02-21T07:43:35.0486894Z [36;1m  Set-Content -Path $reportPath -Value $tail -Encoding UTF8[0m
2026-02-21T07:43:35.0487213Z [36;1m}[0m
2026-02-21T07:43:35.0503885Z shell: C:\Windows\System32\WindowsPowerShell\v1.0\powershell.EXE -NoProfile -ExecutionPolicy Bypass -Command "{0}"
2026-02-21T07:43:35.0504401Z env:
2026-02-21T07:43:35.0504601Z   REPO_ROOT: C:\work\apex_repo_cache\ApexTraderAI
2026-02-21T07:43:35.0504872Z ##[endgroup]
2026-02-21T07:43:35.3844504Z Resolved run_id=20260221_164217
2026-02-21T07:43:35.4040224Z Resolved run directory: C:\work\apex_work\runs\20260221_164217

----- FILE: actions_logs/run/16_Trim ONE_TAP report size.txt -----
ï»¿2026-02-21T07:43:35.4571282Z ##[group]Run $reportPath = Join-Path $env:GITHUB_WORKSPACE 'temp\ONE_TAP_ERROR_REPORT.txt'
2026-02-21T07:43:35.4572402Z [36;1m$reportPath = Join-Path $env:GITHUB_WORKSPACE 'temp\ONE_TAP_ERROR_REPORT.txt'[0m
2026-02-21T07:43:35.4572932Z [36;1m$maxBytes = 60000[0m
2026-02-21T07:43:35.4573336Z [36;1mif ((Test-Path $reportPath) -and ((Get-Item $reportPath).Length -gt $maxBytes)) {[0m
2026-02-21T07:43:35.4573835Z [36;1m  $tail = Get-Content -Path $reportPath -Raw[0m
2026-02-21T07:43:35.4574401Z [36;1m  $tail = $tail.Substring([Math]::Max(0, $tail.Length - $maxBytes))[0m
2026-02-21T07:43:35.4575203Z [36;1m  Set-Content -Path $reportPath -Value $tail -Encoding UTF8[0m
2026-02-21T07:43:35.4575561Z [36;1m}[0m
2026-02-21T07:43:35.4598449Z shell: C:\Windows\System32\WindowsPowerShell\v1.0\powershell.EXE -NoProfile -ExecutionPolicy Bypass -Command "{0}"
2026-02-21T07:43:35.4599010Z env:
2026-02-21T07:43:35.4599217Z   REPO_ROOT: C:\work\apex_repo_cache\ApexTraderAI
2026-02-21T07:43:35.4599503Z ##[endgroup]

----- FILE: actions_logs/run/17_Stage run artifacts.txt -----
ï»¿2026-02-21T07:43:35.6903431Z ##[group]Run $artifactRoot = Join-Path $env:GITHUB_WORKSPACE 'temp\desktop_artifacts'
2026-02-21T07:43:35.6904531Z [36;1m$artifactRoot = Join-Path $env:GITHUB_WORKSPACE 'temp\desktop_artifacts'[0m
2026-02-21T07:43:35.6905391Z [36;1m$null = New-Item -Path $artifactRoot -ItemType Directory -Force[0m
2026-02-21T07:43:35.6906158Z [36;1m$workspaceLogRoot = Join-Path $env:GITHUB_WORKSPACE 'artifacts\logs'[0m
2026-02-21T07:43:35.6906901Z [36;1m$null = New-Item -Path $workspaceLogRoot -ItemType Directory -Force[0m
2026-02-21T07:43:35.6907435Z [36;1m[0m
2026-02-21T07:43:35.6908044Z [36;1m$reportSource = Join-Path $env:GITHUB_WORKSPACE 'temp\ONE_TAP_ERROR_REPORT.txt'[0m
2026-02-21T07:43:35.6908917Z [36;1m$reportDest = Join-Path $artifactRoot 'ONE_TAP_ERROR_REPORT.txt'[0m
2026-02-21T07:43:35.6909550Z [36;1mif (Test-Path $reportSource) {[0m
2026-02-21T07:43:35.6910176Z [36;1m  Copy-Item -Path $reportSource -Destination $reportDest -Force[0m
2026-02-21T07:43:35.6910927Z [36;1m} else {[0m
2026-02-21T07:43:35.6911231Z [36;1m  @([0m
2026-02-21T07:43:35.6911661Z [36;1m    '[WARN] ONE_TAP_ERROR_REPORT.txt was missing at stage time.',[0m
2026-02-21T07:43:35.6912450Z [36;1m    ('timestamp={0}' -f (Get-Date -Format 'yyyy-MM-dd HH:mm:ss zzz'))[0m
2026-02-21T07:43:35.6913245Z [36;1m  ) | Set-Content -Path $reportDest -Encoding UTF8[0m
2026-02-21T07:43:35.6913737Z [36;1m}[0m
2026-02-21T07:43:35.6914006Z [36;1m[0m
2026-02-21T07:43:35.6914556Z [36;1m$consoleLog = Join-Path $env:GITHUB_WORKSPACE 'temp\run_all_local_then_copy_console.log'[0m
2026-02-21T07:43:35.6915317Z [36;1mif (Test-Path $consoleLog) {[0m
2026-02-21T07:43:35.6916373Z [36;1m  Copy-Item -Path $consoleLog -Destination (Join-Path $artifactRoot 'run_all_local_then_copy_console.log') -Force[0m
2026-02-21T07:43:35.6917376Z [36;1m}[0m
2026-02-21T07:43:35.6917628Z [36;1m[0m
2026-02-21T07:43:35.6918148Z [36;1m$runLog = 'C:\work\apex_work\runs\20260221_164217\logs\run_20260221_164217.log'[0m
2026-02-21T07:43:35.6919001Z [36;1mif ((-not $runLog) -or (-not (Test-Path $runLog))) {[0m
2026-02-21T07:43:35.6919683Z [36;1m  $runDir = 'C:\work\apex_work\runs\20260221_164217'[0m
2026-02-21T07:43:35.6920306Z [36;1m  if ($runDir -and (Test-Path $runDir)) {[0m
2026-02-21T07:43:35.6921875Z [36;1m    $latestRunLog = Get-ChildItem -Path (Join-Path $runDir 'logs') -Filter 'run_*.log' -File -ErrorAction SilentlyContinue | Sort-Object LastWriteTime -Descending | Select-Object -First 1[0m
2026-02-21T07:43:35.6924435Z [36;1m    if ($latestRunLog) {[0m
2026-02-21T07:43:35.6924846Z [36;1m      $runLog = $latestRunLog.FullName[0m
2026-02-21T07:43:35.6925466Z [36;1m    }[0m
2026-02-21T07:43:35.6925740Z [36;1m  }[0m
2026-02-21T07:43:35.6926001Z [36;1m}[0m
2026-02-21T07:43:35.6926263Z [36;1m[0m
2026-02-21T07:43:35.6926590Z [36;1mif ($runLog -and (Test-Path $runLog)) {[0m
2026-02-21T07:43:35.6927147Z [36;1m  $runLogName = Split-Path -Path $runLog -Leaf[0m
2026-02-21T07:43:35.6927971Z [36;1m  Copy-Item -Path $runLog -Destination (Join-Path $artifactRoot $runLogName) -Force[0m
2026-02-21T07:43:35.6929058Z [36;1m  Copy-Item -Path $runLog -Destination (Join-Path $workspaceLogRoot $runLogName) -Force[0m
2026-02-21T07:43:35.6929877Z [36;1m  Write-Host "Staged run log: $runLog"[0m
2026-02-21T07:43:35.6930376Z [36;1m} else {[0m
2026-02-21T07:43:35.6931042Z [36;1m  Write-Warning 'Run log was not found for artifact staging. Uploading console log artifact only.'[0m
2026-02-21T07:43:35.6931817Z [36;1m  @([0m
2026-02-21T07:43:35.6932246Z [36;1m    '[WARN] run_*.log was not found. Artifact includes console log only.',[0m
2026-02-21T07:43:35.6933040Z [36;1m    '[WARN] Never finish a workflow run without leaving a readable log artifact.',[0m
2026-02-21T07:43:35.6934058Z [36;1m    ('[WARN] generated_at={0}' -f (Get-Date -Format 'yyyy-MM-dd HH:mm:ss zzz'))[0m
2026-02-21T07:43:35.6935171Z [36;1m  ) | Set-Content -Path (Join-Path $artifactRoot 'missing_run_log_warning.txt') -Encoding UTF8[0m
2026-02-21T07:43:35.6937871Z [36;1m}[0m
2026-02-21T07:43:35.6938134Z [36;1m[0m
2026-02-21T07:43:35.6938617Z [36;1m$zipPath = 'C:\work\apex_work\runs\20260221_164217\run_20260221_164217.zip'[0m
2026-02-21T07:43:35.6949069Z [36;1mif ($zipPath -and (Test-Path $zipPath)) {[0m
2026-02-21T07:43:35.6950095Z [36;1m  Copy-Item -Path $zipPath -Destination (Join-Path $artifactRoot (Split-Path -Path $zipPath -Leaf)) -Force[0m
2026-02-21T07:43:35.6950992Z [36;1m}[0m
2026-02-21T07:43:35.6951255Z [36;1m[0m
2026-02-21T07:43:35.6951853Z [36;1m"artifact_path=$artifactRoot" | Out-File -FilePath $env:GITHUB_OUTPUT -Encoding utf8 -Append[0m
2026-02-21T07:43:35.6952709Z [36;1mWrite-Host "Staged artifacts under: $artifactRoot"[0m
2026-02-21T07:43:35.6979035Z shell: C:\Windows\System32\WindowsPowerShell\v1.0\powershell.EXE -NoProfile -ExecutionPolicy Bypass -Command "{0}"
2026-02-21T07:43:35.6979969Z env:
2026-02-21T07:43:35.6980320Z   REPO_ROOT: C:\work\apex_repo_cache\ApexTraderAI
2026-02-21T07:43:35.6980776Z ##[endgroup]
2026-02-21T07:43:36.0498464Z Staged run log: C:\work\apex_work\runs\20260221_164217\logs\run_20260221_164217.log
2026-02-21T07:43:36.0584161Z Staged artifacts under: C:\Users\becky\OneDrive\ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—\Python\apex-trader-ai\actions-runner\_work\ApexTraderAI\ApexTraderAI\temp\desktop_artifacts

----- FILE: actions_logs/run/18_Upload run artifacts.txt -----
ï»¿2026-02-21T07:43:36.1031931Z ##[group]Run actions/upload-artifact@v4
2026-02-21T07:43:36.1032239Z with:
2026-02-21T07:43:36.1032483Z   name: desktop-run-20260221_164217
2026-02-21T07:43:36.1032746Z   if-no-files-found: warn
2026-02-21T07:43:36.1033282Z   path: C:\Users\becky\OneDrive\ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—\Python\apex-trader-ai\actions-runner\_work\ApexTraderAI\ApexTraderAI\temp\desktop_artifacts\**
2026-02-21T07:43:36.1033848Z   compression-level: 6
2026-02-21T07:43:36.1034032Z   overwrite: false
2026-02-21T07:43:36.1034219Z   include-hidden-files: false
2026-02-21T07:43:36.1034411Z env:
2026-02-21T07:43:36.1034595Z   REPO_ROOT: C:\work\apex_repo_cache\ApexTraderAI
2026-02-21T07:43:36.1034870Z ##[endgroup]
2026-02-21T07:43:37.0092786Z With the provided path, there will be 21 files uploaded
2026-02-21T07:43:37.0097416Z Artifact name is valid!
2026-02-21T07:43:37.0100904Z Root directory input is valid!
2026-02-21T07:43:37.5810550Z Beginning upload of artifact content to blob storage
2026-02-21T07:43:41.1225053Z Uploaded bytes 8388608
2026-02-21T07:43:43.2817782Z Uploaded bytes 16777216
2026-02-21T07:43:44.4455070Z Uploaded bytes 21231750
2026-02-21T07:43:44.6220260Z Finished uploading artifact content to blob storage!
2026-02-21T07:43:44.6225754Z SHA256 digest of uploaded artifact zip is c9b5bea3b3e159898c9131a925e0772ea6a18430caf696ddd3d0ee95053e5baf
2026-02-21T07:43:44.6226554Z Finalizing artifact upload
2026-02-21T07:43:45.2101316Z Artifact desktop-run-20260221_164217.zip successfully finalized. Artifact ID 5600263394
2026-02-21T07:43:45.2105271Z Artifact desktop-run-20260221_164217 has been successfully uploaded! Final size is 21231750 bytes. Artifact ID is 5600263394
2026-02-21T07:43:45.2116060Z Artifact download URL: https://github.com/toki866/ApexTraderAI/actions/runs/22252976665/artifacts/5600263394

----- FILE: actions_logs/run/19_Publish ONE_TAP report to diag-logs branch.txt -----
2026-02-21T07:43:45.2477221Z [36;1m[0m
2026-02-21T07:43:45.2477489Z [36;1m$diagRepo = Join-Path $env:RUNNER_TEMP 'diag_repo'[0m
2026-02-21T07:43:45.2477965Z [36;1mif (Test-Path $diagRepo) { Remove-Item -Path $diagRepo -Recurse -Force }[0m
2026-02-21T07:43:45.2478471Z [36;1m$null = New-Item -Path $diagRepo -ItemType Directory -Force[0m
2026-02-21T07:43:45.2478859Z [36;1mSet-Location $diagRepo[0m
2026-02-21T07:43:45.2479083Z [36;1m[0m
2026-02-21T07:43:45.2479249Z [36;1mgit init[0m
2026-02-21T07:43:45.2479492Z [36;1mgit config user.name 'github-actions[bot]'[0m
2026-02-21T07:43:45.2479962Z [36;1mgit config user.email '41898282+github-actions[bot]@users.noreply.github.com'[0m
2026-02-21T07:43:45.2480968Z [36;1mgit remote add origin "***github.com/toki866/ApexTraderAI.git"[0m
2026-02-21T07:43:45.2481392Z [36;1m[0m
2026-02-21T07:43:45.2481665Z [36;1mcmd /c "git fetch origin diag-logs --depth 1 1>nul 2>nul"[0m
2026-02-21T07:43:45.2482057Z [36;1m$fetchRc = $LASTEXITCODE[0m
2026-02-21T07:43:45.2482317Z [36;1mif ($fetchRc -eq 0) {[0m
2026-02-21T07:43:45.2482611Z [36;1m  git checkout -B diag-logs origin/diag-logs[0m
2026-02-21T07:43:45.2482908Z [36;1m} else {[0m
2026-02-21T07:43:45.2483120Z [36;1m  git checkout --orphan diag-logs[0m
2026-02-21T07:43:45.2483380Z [36;1m}[0m
2026-02-21T07:43:45.2483585Z [36;1m[0m
2026-02-21T07:43:45.2483828Z [36;1m$runsDir = Join-Path $diagRepo 'runs'[0m
2026-02-21T07:43:45.2484224Z [36;1m$null = New-Item -Path $runsDir -ItemType Directory -Force[0m
2026-02-21T07:43:45.2484568Z [36;1m[0m
2026-02-21T07:43:45.2484789Z [36;1m$timestamp = Get-Date -Format 'yyyyMMdd_HHmmss'[0m
2026-02-21T07:43:45.2485253Z [36;1m$shortSha = ('394f77318a4e0b50ea26b51d840c292e1206e8f4').Substring(0, 7)[0m
2026-02-21T07:43:45.2485750Z [36;1m$runFolderName = "${timestamp}_run22252976665_att1_${shortSha}"[0m
2026-02-21T07:43:45.2486255Z [36;1m$runFolder = Join-Path $runsDir $runFolderName[0m
2026-02-21T07:43:45.2486676Z [36;1m$null = New-Item -Path $runFolder -ItemType Directory -Force[0m
2026-02-21T07:43:45.2487085Z [36;1m$csvOutDir = Join-Path $runFolder 'csv'[0m
2026-02-21T07:43:45.2487496Z [36;1m$null = New-Item -Path $csvOutDir -ItemType Directory -Force[0m
2026-02-21T07:43:45.2487838Z [36;1m[0m
2026-02-21T07:43:45.2488182Z [36;1m$oneTapSource = Join-Path $env:GITHUB_WORKSPACE 'temp\ONE_TAP_ERROR_REPORT.txt'[0m
2026-02-21T07:43:45.2488746Z [36;1m$oneTapDest = Join-Path $runFolder 'ONE_TAP_ERROR_REPORT.txt'[0m
2026-02-21T07:43:45.2489135Z [36;1mif (Test-Path $oneTapSource) {[0m
2026-02-21T07:43:45.2489524Z [36;1m  Copy-Item -Path $oneTapSource -Destination $oneTapDest -Force[0m
2026-02-21T07:43:45.2489888Z [36;1m} else {[0m
2026-02-21T07:43:45.2490075Z [36;1m  @([0m
2026-02-21T07:43:45.2490379Z [36;1m    '[WARN] ONE_TAP_ERROR_REPORT.txt was not found in workspace temp.',[0m
2026-02-21T07:43:45.2490907Z [36;1m    ('timestamp={0}' -f (Get-Date -Format 'yyyy-MM-dd HH:mm:ss zzz')),[0m
2026-02-21T07:43:45.2491323Z [36;1m    ('repo=toki866/ApexTraderAI'),[0m
2026-02-21T07:43:45.2491896Z [36;1m    ('run_id=22252976665'),[0m
2026-02-21T07:43:45.2492137Z [36;1m    ('run_attempt=1')[0m
2026-02-21T07:43:45.2492429Z [36;1m  ) | Set-Content -Path $oneTapDest -Encoding UTF8[0m
2026-02-21T07:43:45.2492733Z [36;1m}[0m
2026-02-21T07:43:45.2492889Z [36;1m[0m
2026-02-21T07:43:45.2493126Z [36;1m$runDir = 'C:\work\apex_work\runs\20260221_164217'[0m
2026-02-21T07:43:45.2501669Z [36;1mif ([string]::IsNullOrWhiteSpace($runDir) -or -not (Test-Path $runDir)) {[0m
2026-02-21T07:43:45.2502203Z [36;1m  $runsRoot = 'C:\work\apex_work\runs'[0m
2026-02-21T07:43:45.2502511Z [36;1m  if (Test-Path $runsRoot) {[0m
2026-02-21T07:43:45.2502978Z [36;1m    $latestRun = Get-ChildItem -Path $runsRoot -Directory -ErrorAction SilentlyContinue |[0m
2026-02-21T07:43:45.2503503Z [36;1m      Sort-Object LastWriteTime -Descending |[0m
2026-02-21T07:43:45.2505570Z [36;1m      Select-Object -First 1[0m
2026-02-21T07:43:45.2505814Z [36;1m    if ($latestRun) {[0m
2026-02-21T07:43:45.2506241Z [36;1m      $runDir = $latestRun.FullName[0m
2026-02-21T07:43:45.2506496Z [36;1m    }[0m
2026-02-21T07:43:45.2506665Z [36;1m  }[0m
2026-02-21T07:43:45.2506821Z [36;1m}[0m
2026-02-21T07:43:45.2506967Z [36;1m[0m
2026-02-21T07:43:45.2507387Z [36;1m$outputRoot = if ([string]::IsNullOrWhiteSpace($runDir)) { '' } else { Join-Path $runDir 'output' }[0m
2026-02-21T07:43:45.2507939Z [36;1m$maxCsvBytes = 5MB[0m
2026-02-21T07:43:45.2508157Z [36;1m$headLines = 500[0m
2026-02-21T07:43:45.2508512Z [36;1m$publishedCsv = New-Object System.Collections.Generic.List[object][0m
2026-02-21T07:43:45.2508889Z [36;1m[0m
2026-02-21T07:43:45.2509237Z [36;1mif (-not [string]::IsNullOrWhiteSpace($outputRoot) -and (Test-Path $outputRoot)) {[0m
2026-02-21T07:43:45.2509683Z [36;1m  $csvPatterns = @([0m
2026-02-21T07:43:45.2510038Z [36;1m    (Join-Path $outputRoot 'stepA\*\stepA_split_summary_*.csv'),[0m
2026-02-21T07:43:45.2510546Z [36;1m    (Join-Path $outputRoot 'stepA\*\stepA_prices_test_*.csv'),[0m
2026-02-21T07:43:45.2511009Z [36;1m    (Join-Path $outputRoot 'stepB\*\stepB_split_summary_*.csv'),[0m
2026-02-21T07:43:45.2511435Z [36;1m    (Join-Path $outputRoot 'stepB\*\stepB_pred_*.csv')[0m
2026-02-21T07:43:45.2511744Z [36;1m  )[0m
2026-02-21T07:43:45.2511910Z [36;1m[0m
2026-02-21T07:43:45.2512078Z [36;1m  $sourceCsvFiles = @()[0m
2026-02-21T07:43:45.2512348Z [36;1m  foreach ($pattern in $csvPatterns) {[0m
2026-02-21T07:43:45.2513033Z [36;1m    $sourceCsvFiles += Get-ChildItem -Path $pattern -File -ErrorAction SilentlyContinue[0m
2026-02-21T07:43:45.2513460Z [36;1m  }[0m
2026-02-21T07:43:45.2513620Z [36;1m[0m
2026-02-21T07:43:45.2513809Z [36;1m  $sourceCsvFiles = $sourceCsvFiles |[0m
2026-02-21T07:43:45.2514089Z [36;1m    Sort-Object FullName -Unique[0m
2026-02-21T07:43:45.2514322Z [36;1m[0m
2026-02-21T07:43:45.2514508Z [36;1m  foreach ($src in $sourceCsvFiles) {[0m
2026-02-21T07:43:45.2514771Z [36;1m    $destName = $src.Name[0m
2026-02-21T07:43:45.2515041Z [36;1m    $headOnly = $false[0m
2026-02-21T07:43:45.2515280Z [36;1m[0m
2026-02-21T07:43:45.2515472Z [36;1m    if ($src.Length -le $maxCsvBytes) {[0m
2026-02-21T07:43:45.2515925Z [36;1m      Copy-Item -Path $src.FullName -Destination (Join-Path $csvOutDir $destName) -Force[0m
2026-02-21T07:43:45.2516358Z [36;1m    } else {[0m
2026-02-21T07:43:45.2516634Z [36;1m      $destName = '{0}__HEAD{1}' -f $src.BaseName, $src.Extension[0m
2026-02-21T07:43:45.2517188Z [36;1m      Get-Content -Path $src.FullName -TotalCount $headLines -ErrorAction SilentlyContinue |[0m
2026-02-21T07:43:45.2517812Z [36;1m        Set-Content -Path (Join-Path $csvOutDir $destName) -Encoding UTF8[0m
2026-02-21T07:43:45.2518191Z [36;1m      $headOnly = $true[0m
2026-02-21T07:43:45.2518403Z [36;1m    }[0m
2026-02-21T07:43:45.2518563Z [36;1m[0m
2026-02-21T07:43:45.2518772Z [36;1m    $destPath = Join-Path $csvOutDir $destName[0m
2026-02-21T07:43:45.2519072Z [36;1m    if (Test-Path $destPath) {[0m
2026-02-21T07:43:45.2519719Z [36;1m      $previewLines = Get-Content -Path $destPath -TotalCount 2 -ErrorAction SilentlyContinue[0m
2026-02-21T07:43:45.2520226Z [36;1m      $publishedCsv.Add([PSCustomObject]@{[0m
2026-02-21T07:43:45.2520673Z [36;1m        Name = $destName[0m
2026-02-21T07:43:45.2520941Z [36;1m        RelativePath = "./csv/$destName"[0m
2026-02-21T07:43:45.2521281Z [36;1m        SizeBytes = (Get-Item -Path $destPath).Length[0m
2026-02-21T07:43:45.2521620Z [36;1m        HeadOnly = $headOnly[0m
2026-02-21T07:43:45.2521893Z [36;1m        PreviewLines = @($previewLines)[0m
2026-02-21T07:43:45.2522163Z [36;1m      })[0m
2026-02-21T07:43:45.2522355Z [36;1m    }[0m
2026-02-21T07:43:45.2522572Z [36;1m  }[0m
2026-02-21T07:43:45.2522729Z [36;1m}[0m
2026-02-21T07:43:45.2522876Z [36;1m[0m
2026-02-21T07:43:45.2523660Z [36;1m$csvIndexPath = Join-Path $runFolder 'CSV_INDEX.md'[0m
2026-02-21T07:43:45.2524123Z [36;1m$csvIndexLines = New-Object System.Collections.Generic.List[string][0m
2026-02-21T07:43:45.2524570Z [36;1m$csvIndexLines.Add('# CSV Index')[0m
2026-02-21T07:43:45.2524910Z [36;1m$csvIndexLines.Add('')[0m
2026-02-21T07:43:45.2525208Z [36;1m$csvIndexLines.Add("- source_run_dir: $runDir")[0m
2026-02-21T07:43:45.2525597Z [36;1m$csvIndexLines.Add("- source_output_root: $outputRoot")[0m
2026-02-21T07:43:45.2525948Z [36;1m$csvIndexLines.Add('')[0m
2026-02-21T07:43:45.2526172Z [36;1m[0m
2026-02-21T07:43:45.2526363Z [36;1mif ($publishedCsv.Count -eq 0) {[0m
2026-02-21T07:43:45.2526788Z [36;1m  $csvIndexLines.Add('_No CSV files matched the publish patterns for this run._')[0m
2026-02-21T07:43:45.2527294Z [36;1m} else {[0m
2026-02-21T07:43:45.2527750Z [36;1m  foreach ($item in $publishedCsv) {[0m
2026-02-21T07:43:45.2528184Z [36;1m    $headNote = if ($item.HeadOnly) { 'yes (500-line sample)' } else { 'no' }[0m
2026-02-21T07:43:45.2528838Z [36;1m    $csvIndexLines.Add("- file: $($item.RelativePath) | size_bytes: $($item.SizeBytes) | head_only: $headNote")[0m
2026-02-21T07:43:45.2529447Z [36;1m    if ($item.PreviewLines.Count -gt 0) {[0m
2026-02-21T07:43:45.2529798Z [36;1m      $csvIndexLines.Add('  - preview:')[0m
2026-02-21T07:43:45.2530126Z [36;1m      foreach ($line in $item.PreviewLines) {[0m
2026-02-21T07:43:45.2530437Z [36;1m        $safeLine = [string]$line[0m
2026-02-21T07:43:45.2530741Z [36;1m        $csvIndexLines.Add("    - $safeLine")[0m
2026-02-21T07:43:45.2531021Z [36;1m      }[0m
2026-02-21T07:43:45.2531195Z [36;1m    }[0m
2026-02-21T07:43:45.2531359Z [36;1m  }[0m
2026-02-21T07:43:45.2531517Z [36;1m}[0m
2026-02-21T07:43:45.2531665Z [36;1m[0m
2026-02-21T07:43:45.2532037Z [36;1m$csvIndexLines -join "`r`n" | Set-Content -Path $csvIndexPath -Encoding UTF8[0m
2026-02-21T07:43:45.2532447Z [36;1m[0m
2026-02-21T07:43:45.2532723Z [36;1m$latestOneTapPath = Join-Path $runsDir 'LATEST_ONE_TAP.md'[0m
2026-02-21T07:43:45.2533153Z [36;1m$latestCsvPath = Join-Path $runsDir 'LATEST_CSV.md'[0m
2026-02-21T07:43:45.2533487Z [36;1m$keepLatest = 10[0m
2026-02-21T07:43:45.2533790Z [36;1mtry { $keepLatest = [int]'10' } catch { $keepLatest = 10 }[0m
2026-02-21T07:43:45.2534197Z [36;1mif ($keepLatest -lt 1) { $keepLatest = 1 }[0m
2026-02-21T07:43:45.2534488Z [36;1m[0m
2026-02-21T07:43:45.2534644Z [36;1m@([0m
2026-02-21T07:43:45.2534821Z [36;1m  '# Latest ONE_TAP report',[0m
2026-02-21T07:43:45.2535060Z [36;1m  '',[0m
2026-02-21T07:43:45.2535249Z [36;1m  "- folder: $runFolderName",[0m
2026-02-21T07:43:45.2535586Z [36;1m  "- report: ./runs/$runFolderName/ONE_TAP_ERROR_REPORT.txt"[0m
2026-02-21T07:43:45.2536049Z [36;1m) -join "`r`n" | Set-Content -Path $latestOneTapPath -Encoding UTF8[0m
2026-02-21T07:43:45.2536411Z [36;1m[0m
2026-02-21T07:43:45.2536596Z [36;1m@([0m
2026-02-21T07:43:45.2536939Z [36;1m  '# Latest CSV index',[0m
2026-02-21T07:43:45.2537256Z [36;1m  '',[0m
2026-02-21T07:43:45.2537474Z [36;1m  "- folder: $runFolderName",[0m
2026-02-21T07:43:45.2537764Z [36;1m  "- keep_latest: $keepLatest",[0m
2026-02-21T07:43:45.2538223Z [36;1m  "- csv_index: ./runs/$runFolderName/CSV_INDEX.md"[0m
2026-02-21T07:43:45.2538611Z [36;1m) -join "`r`n" | Set-Content -Path $latestCsvPath -Encoding UTF8[0m
2026-02-21T07:43:45.2538942Z [36;1m[0m
2026-02-21T07:43:45.2539363Z [36;1m$runFolders = Get-ChildItem -Path $runsDir -Directory -ErrorAction SilentlyContinue |[0m
2026-02-21T07:43:45.2539885Z [36;1m  Where-Object { $_.Name -match '^\d{8}_\d{6}_run\d+_' } |[0m
2026-02-21T07:43:45.2540223Z [36;1m  Sort-Object Name -Descending[0m
2026-02-21T07:43:45.2540450Z [36;1m[0m
2026-02-21T07:43:45.2540692Z [36;1m$toDelete = $runFolders | Select-Object -Skip $keepLatest[0m
2026-02-21T07:43:45.2541029Z [36;1mforeach ($d in $toDelete) {[0m
2026-02-21T07:43:45.2541403Z [36;1m  Write-Host ("[RETENTION] delete old run folder: {0}" -f $d.FullName)[0m
2026-02-21T07:43:45.2542442Z [36;1m  Remove-Item -Path $d.FullName -Recurse -Force -ErrorAction SilentlyContinue[0m
2026-02-21T07:43:45.2542838Z [36;1m}[0m
2026-02-21T07:43:45.2542994Z [36;1m[0m
2026-02-21T07:43:45.2543344Z [36;1m"run_folder=$runFolderName" | Out-File -FilePath $env:GITHUB_OUTPUT -Encoding utf8 -Append[0m
2026-02-21T07:43:45.2543796Z [36;1m[0m
2026-02-21T07:43:45.2543958Z [36;1mgit add runs[0m
2026-02-21T07:43:45.2544201Z [36;1mif (git diff --cached --quiet) {[0m
2026-02-21T07:43:45.2544517Z [36;1m  Write-Host 'No diagnostics changes to commit.'[0m
2026-02-21T07:43:45.2544804Z [36;1m  exit 0[0m
2026-02-21T07:43:45.2544970Z [36;1m}[0m
2026-02-21T07:43:45.2545114Z [36;1m[0m
2026-02-21T07:43:45.2545352Z [36;1mgit commit -m "diag: add one_tap report $runFolderName"[0m
2026-02-21T07:43:45.2545699Z [36;1mcmd /c "git push origin diag-logs"[0m
2026-02-21T07:43:45.2545959Z [36;1m$pushRc = $LASTEXITCODE[0m
2026-02-21T07:43:45.2546237Z [36;1mif ($pushRc -ne 0) {[0m
2026-02-21T07:43:45.2546681Z [36;1m  Write-Warning ('Failed to push ONE_TAP report to diag-logs branch. git push rc={0}' -f $pushRc)[0m
2026-02-21T07:43:45.2547376Z [36;1m  Write-Warning 'Enable Settings > Actions > Workflow permissions: Read and write permissions'[0m
2026-02-21T07:43:45.2547814Z [36;1m}[0m
2026-02-21T07:43:45.2566213Z shell: C:\Windows\System32\WindowsPowerShell\v1.0\powershell.EXE -NoProfile -ExecutionPolicy Bypass -Command "{0}"
2026-02-21T07:43:45.2566760Z env:
2026-02-21T07:43:45.2567002Z   REPO_ROOT: C:\work\apex_repo_cache\ApexTraderAI
2026-02-21T07:43:45.2567293Z ##[endgroup]
2026-02-21T07:43:45.5491001Z Initialized empty Git repository in C:/Users/becky/OneDrive/ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—/Python/apex-trader-ai/actions-runner/_work/_temp/diag_repo/.git/
2026-02-21T07:43:47.4180601Z Switched to a new branch 'diag-logs'
2026-02-21T07:43:47.4181348Z branch 'diag-logs' set up to track 'origin/diag-logs'.
2026-02-21T07:43:47.7767384Z [RETENTION] delete old run folder: C:\Users\becky\OneDrive\ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—\Python\apex-trader-ai\actions-runner\_work\_temp\diag_repo\runs\20260221_020927_run22248308415_att1_failure_0ada14a
2026-02-21T07:43:48.1245411Z [diag-logs 5ff45a4] diag: add one_tap report 20260221_164347_run22252976665_att1_394f773
2026-02-21T07:43:48.1246323Z  13 files changed, 10388 insertions(+), 1659 deletions(-)
2026-02-21T07:43:48.1246947Z  delete mode 100644 runs/20260221_020927_run22248308415_att1_failure_0ada14a/ACTIONS_JOB_LOG_TAIL.txt
2026-02-21T07:43:48.1254444Z  delete mode 100644 runs/20260221_020927_run22248308415_att1_failure_0ada14a/actions_logs.zip
2026-02-21T07:43:48.1255221Z  create mode 100644 runs/20260221_164347_run22252976665_att1_394f773/CSV_INDEX.md
2026-02-21T07:43:48.1255841Z  create mode 100644 runs/20260221_164347_run22252976665_att1_394f773/ONE_TAP_ERROR_REPORT.txt
2026-02-21T07:43:48.1256493Z  create mode 100644 runs/20260221_164347_run22252976665_att1_394f773/csv/stepA_prices_test_SOXL.csv
2026-02-21T07:43:48.1257201Z  create mode 100644 runs/20260221_164347_run22252976665_att1_394f773/csv/stepA_split_summary_SOXL.csv
2026-02-21T07:43:48.1257902Z  create mode 100644 runs/20260221_164347_run22252976665_att1_394f773/csv/stepB_pred_close_mamba_SOXL.csv
2026-02-21T07:43:48.1258912Z  create mode 100644 runs/20260221_164347_run22252976665_att1_394f773/csv/stepB_pred_close_mamba_periodic_SOXL.csv
2026-02-21T07:43:48.1259651Z  create mode 100644 runs/20260221_164347_run22252976665_att1_394f773/csv/stepB_pred_path_mamba_SOXL.csv
2026-02-21T07:43:48.1260429Z  create mode 100644 runs/20260221_164347_run22252976665_att1_394f773/csv/stepB_pred_path_mamba_periodic_SOXL.csv
2026-02-21T07:43:48.1261164Z  create mode 100644 runs/20260221_164347_run22252976665_att1_394f773/csv/stepB_pred_time_all_SOXL.csv
2026-02-21T07:43:49.9044356Z To https://github.com/toki866/ApexTraderAI.git
2026-02-21T07:43:49.9044805Z    4c20f44..5ff45a4  diag-logs -> diag-logs

----- FILE: actions_logs/run/1_Set up job.txt -----
ï»¿2026-02-21T07:42:07.6359387Z Current runner version: '2.331.0'
2026-02-21T07:42:07.6371374Z Runner name: 'DESKTOP-C54PIIA'
2026-02-21T07:42:07.6372027Z Runner group name: 'Default'
2026-02-21T07:42:07.6372859Z Machine name: 'DESKTOP-C54PIIA'
2026-02-21T07:42:07.6376627Z ##[group]GITHUB_TOKEN Permissions
2026-02-21T07:42:07.6378979Z Actions: read
2026-02-21T07:42:07.6379429Z Contents: write
2026-02-21T07:42:07.6379893Z Issues: write
2026-02-21T07:42:07.6380374Z Metadata: read
2026-02-21T07:42:07.6380776Z ##[endgroup]
2026-02-21T07:42:07.6382728Z Secret source: Actions
2026-02-21T07:42:07.6383322Z Prepare workflow directory
2026-02-21T07:42:07.7046141Z Prepare all required actions
2026-02-21T07:42:07.7086019Z Getting action download info
2026-02-21T07:42:08.8453701Z Download action repository 'actions/upload-artifact@v4' (SHA:ea165f8d65b6e75b540449e92b4886f43607fa02)
2026-02-21T07:42:10.5937839Z Download action repository 'actions/github-script@v7' (SHA:f28e40c7f34bde8b3046d885e986cb6290c5673b)
2026-02-21T07:42:11.4688213Z Complete job name: run

----- FILE: actions_logs/run/20_Publish diagnostics to Issue (always).txt -----
ï»¿2026-02-21T07:43:49.9783416Z ##[group]Run actions/github-script@v7
2026-02-21T07:43:49.9785900Z with:
2026-02-21T07:43:49.9807233Z   script: const fs = require('fs');
const path = require('path');

const owner = context.repo.owner;
const repo = context.repo.repo;

const reportPath = path.join(process.env.GITHUB_WORKSPACE, 'temp', 'ONE_TAP_ERROR_REPORT.txt');
let report = fs.existsSync(reportPath)
  ? fs.readFileSync(reportPath, 'utf8')
  : '(missing ONE_TAP_ERROR_REPORT.txt)';

if (report.length > 60000) report = report.slice(-60000);

const runUrl = `${context.serverUrl}/${owner}/${repo}/actions/runs/${context.runId}`;
const title = 'ApexTraderAI Diagnostics (latest)';
const attempt = process.env.GITHUB_RUN_ATTEMPT || '1';
const diagRunFolder = process.env.DIAG_RUN_FOLDER || 'LATEST_CSV.md';
const csvIndexUrl = diagRunFolder === 'LATEST_CSV.md'
  ? `${context.serverUrl}/${owner}/${repo}/blob/diag-logs/runs/LATEST_CSV.md`
  : `${context.serverUrl}/${owner}/${repo}/blob/diag-logs/runs/${diagRunFolder}/CSV_INDEX.md`;
const body = `Run: ${runUrl}\nSHA: ${context.sha}\nAttempt: ${attempt}\ndiag-logs csv_index: ${csvIndexUrl}\n\n\`\`\`text\n${report}\n\`\`\`\n`;

const { data: issues } = await github.rest.issues.listForRepo({
  owner,
  repo,
  state: 'open',
  per_page: 100
});
const existing = issues.find(i => i.title === title);

if (existing) {
  await github.rest.issues.update({ owner, repo, issue_number: existing.number, body });
} else {
  await github.rest.issues.create({ owner, repo, title, body });
}

2026-02-21T07:43:49.9830521Z   github-token: ***
2026-02-21T07:43:49.9830708Z   debug: false
2026-02-21T07:43:49.9830878Z   user-agent: actions/github-script
2026-02-21T07:43:49.9832982Z   result-encoding: json
2026-02-21T07:43:49.9833162Z   retries: 0
2026-02-21T07:43:49.9835208Z   retry-exempt-status-codes: 400,401,403,404,422
2026-02-21T07:43:49.9835459Z env:
2026-02-21T07:43:49.9835645Z   REPO_ROOT: C:\work\apex_repo_cache\ApexTraderAI
2026-02-21T07:43:49.9837814Z   DIAG_RUN_FOLDER: 20260221_164347_run22252976665_att1_394f773
2026-02-21T07:43:49.9839972Z ##[endgroup]

----- FILE: actions_logs/run/21_Collect diagnostics.txt -----
ï»¿2026-02-21T07:43:51.8386720Z ##[group]Run $ErrorActionPreference = 'Stop'
2026-02-21T07:43:51.8387227Z [36;1m$ErrorActionPreference = 'Stop'[0m
2026-02-21T07:43:51.8387546Z [36;1m[0m
2026-02-21T07:43:51.8387728Z [36;1mfunction Mask-Secrets {[0m
2026-02-21T07:43:51.8387980Z [36;1m  param([string]$Text)[0m
2026-02-21T07:43:51.8388196Z [36;1m[0m
2026-02-21T07:43:51.8388436Z [36;1m  if ([string]::IsNullOrEmpty($Text)) { return $Text }[0m
2026-02-21T07:43:51.8388749Z [36;1m[0m
2026-02-21T07:43:51.8388913Z [36;1m  $masked = $Text[0m
2026-02-21T07:43:51.8389334Z [36;1m  $masked = [regex]::Replace($masked, 'github_pat_[A-Za-z0-9_]{20,}', 'github_pat_***MASKED***')[0m
2026-02-21T07:43:51.8389986Z [36;1m  $masked = [regex]::Replace($masked, 'gh[pousr]_[A-Za-z0-9_]{20,}', 'gh***_***MASKED***')[0m
2026-02-21T07:43:51.8390650Z [36;1m  $masked = [regex]::Replace($masked, '(?im)\b(token|password|secret)\b\s*[:=]\s*\S+', '$1=***MASKED***')[0m
2026-02-21T07:43:51.8391136Z [36;1m  return $masked[0m
2026-02-21T07:43:51.8391374Z [36;1m}[0m
2026-02-21T07:43:51.8391527Z [36;1m[0m
2026-02-21T07:43:51.8391710Z [36;1mfunction Get-MaskedTail {[0m
2026-02-21T07:43:51.8392150Z [36;1m  param([0m
2026-02-21T07:43:51.8392340Z [36;1m    [string]$Path,[0m
2026-02-21T07:43:51.8392562Z [36;1m    [int]$Tail = 200[0m
2026-02-21T07:43:51.8392782Z [36;1m  )[0m
2026-02-21T07:43:51.8392941Z [36;1m[0m
2026-02-21T07:43:51.8393202Z [36;1m  if (-not (Test-Path $Path)) { return "(not found) $Path" }[0m
2026-02-21T07:43:51.8393753Z [36;1m  $raw = (Get-Content -Path $Path -Tail $Tail -ErrorAction SilentlyContinue) -join "`r`n"[0m
2026-02-21T07:43:51.8394396Z [36;1m  return (Mask-Secrets -Text $raw)[0m
2026-02-21T07:43:51.8394640Z [36;1m}[0m
2026-02-21T07:43:51.8394797Z [36;1m[0m
2026-02-21T07:43:51.8395019Z [36;1m$diagOut = Join-Path $env:RUNNER_TEMP 'diag_out'[0m
2026-02-21T07:43:51.8395415Z [36;1m$null = New-Item -Path $diagOut -ItemType Directory -Force[0m
2026-02-21T07:43:51.8395760Z [36;1m[0m
2026-02-21T07:43:51.8395956Z [36;1m$ws = $env:GITHUB_WORKSPACE[0m
2026-02-21T07:43:51.8396293Z [36;1m$runnerRoot = (Resolve-Path (Join-Path $ws '..\..\..')).Path[0m
2026-02-21T07:43:51.8396709Z [36;1m$runnerDiag = Join-Path $runnerRoot '_diag'[0m
2026-02-21T07:43:51.8397033Z [36;1m$runId = '22252976665'[0m
2026-02-21T07:43:51.8397280Z [36;1m$runAttempt = '1'[0m
2026-02-21T07:43:51.8397590Z [36;1m$sha = '394f77318a4e0b50ea26b51d840c292e1206e8f4'[0m
2026-02-21T07:43:51.8397892Z [36;1m$branch = 'main'[0m
2026-02-21T07:43:51.8398118Z [36;1m$repo = 'toki866/ApexTraderAI'[0m
2026-02-21T07:43:51.8398441Z [36;1m$artifactName = "diag_full_${runId}_${runAttempt}"[0m
2026-02-21T07:43:51.8398753Z [36;1m[0m
2026-02-21T07:43:51.8398956Z [36;1m$latestRunnerLog = $null[0m
2026-02-21T07:43:51.8399216Z [36;1m$latestWorkerLog = $null[0m
2026-02-21T07:43:51.8399569Z [36;1mif (Test-Path $runnerDiag) {[0m
2026-02-21T07:43:51.8400337Z [36;1m  $latestRunnerLog = Get-ChildItem -Path $runnerDiag -Filter 'Runner_*.log' -File -ErrorAction SilentlyContinue | Sort-Object LastWriteTime -Descending | Select-Object -First 1[0m
2026-02-21T07:43:51.8401638Z [36;1m  $latestWorkerLog = Get-ChildItem -Path $runnerDiag -Filter 'Worker_*.log' -File -ErrorAction SilentlyContinue | Sort-Object LastWriteTime -Descending | Select-Object -First 1[0m
2026-02-21T07:43:51.8402409Z [36;1m}[0m
2026-02-21T07:43:51.8402561Z [36;1m[0m
2026-02-21T07:43:51.8402880Z [36;1m$workflowLog = Join-Path $env:RUNNER_TEMP 'run_all_local_then_copy_console.log'[0m
2026-02-21T07:43:51.8403433Z [36;1m$runLogPath = 'C:\work\apex_work\runs\20260221_164217\logs\run_20260221_164217.log'[0m
2026-02-21T07:43:51.8403934Z [36;1m$stepSummaryGlob = Join-Path $env:RUNNER_TEMP 'step_summary_*'[0m
2026-02-21T07:43:51.8404490Z [36;1m$oneTapReportWorkspace = Join-Path $env:GITHUB_WORKSPACE 'temp\ONE_TAP_ERROR_REPORT.txt'[0m
2026-02-21T07:43:51.8404942Z [36;1m[0m
2026-02-21T07:43:51.8405473Z [36;1mif ($latestRunnerLog) { Copy-Item -Path $latestRunnerLog.FullName -Destination (Join-Path $diagOut $latestRunnerLog.Name) -Force }[0m
2026-02-21T07:43:51.8407974Z [36;1mif ($latestWorkerLog) { Copy-Item -Path $latestWorkerLog.FullName -Destination (Join-Path $diagOut $latestWorkerLog.Name) -Force }[0m
2026-02-21T07:43:51.8408937Z [36;1mif (Test-Path $workflowLog) { Copy-Item -Path $workflowLog -Destination (Join-Path $diagOut 'workflow_console.log') -Force }[0m
2026-02-21T07:43:51.8409903Z [36;1mif ($runLogPath -and (Test-Path $runLogPath)) { Copy-Item -Path $runLogPath -Destination (Join-Path $diagOut (Split-Path $runLogPath -Leaf)) -Force }[0m
2026-02-21T07:43:51.8410970Z [36;1mif (Test-Path $oneTapReportWorkspace) { Copy-Item -Path $oneTapReportWorkspace -Destination (Join-Path $diagOut 'ONE_TAP_ERROR_REPORT.txt') -Force }[0m
2026-02-21T07:43:51.8411862Z [36;1mGet-ChildItem -Path $stepSummaryGlob -File -ErrorAction SilentlyContinue | ForEach-Object {[0m
2026-02-21T07:43:51.8412483Z [36;1m  Copy-Item -Path $_.FullName -Destination (Join-Path $diagOut $_.Name) -Force[0m
2026-02-21T07:43:51.8412899Z [36;1m}[0m
2026-02-21T07:43:51.8413052Z [36;1m[0m
2026-02-21T07:43:51.8413405Z [36;1mforeach ($subDir in @('pages', 'blocks')) {[0m
2026-02-21T07:43:51.8413722Z [36;1m  $src = Join-Path $runnerDiag $subDir[0m
2026-02-21T07:43:51.8413996Z [36;1m  if (Test-Path $src) {[0m
2026-02-21T07:43:51.8414388Z [36;1m    Copy-Item -Path $src -Destination (Join-Path $diagOut $subDir) -Recurse -Force[0m
2026-02-21T07:43:51.8414781Z [36;1m  }[0m
2026-02-21T07:43:51.8414942Z [36;1m}[0m
2026-02-21T07:43:51.8415094Z [36;1m[0m
2026-02-21T07:43:51.8415744Z [36;1m$runnerTailText = if ($latestRunnerLog) { Get-MaskedTail -Path $latestRunnerLog.FullName -Tail 200 } else { '(runner diag not found)' }[0m
2026-02-21T07:43:51.8416630Z [36;1m$workflowTailText = if (Test-Path $workflowLog) { Get-MaskedTail -Path $workflowLog -Tail 200 } else { '(workflow log not found)' }[0m
2026-02-21T07:43:51.8417158Z [36;1m[0m
2026-02-21T07:43:51.8417368Z [36;1m$summaryPath = Join-Path $diagOut 'summary.md'[0m
2026-02-21T07:43:51.8417661Z [36;1m$summary = @([0m
2026-02-21T07:43:51.8417865Z [36;1m  '# Diagnostics Summary',[0m
2026-02-21T07:43:51.8418075Z [36;1m  '',[0m
2026-02-21T07:43:51.8418237Z [36;1m  "- repo: $repo",[0m
2026-02-21T07:43:51.8418445Z [36;1m  "- branch: $branch",[0m
2026-02-21T07:43:51.8418648Z [36;1m  "- sha: $sha",[0m
2026-02-21T07:43:51.8418834Z [36;1m  "- run_id: $runId",[0m
2026-02-21T07:43:51.8419048Z [36;1m  "- attempt: $runAttempt",[0m
2026-02-21T07:43:51.8419302Z [36;1m  "- failing_step: $env:FAILING_STEP",[0m
2026-02-21T07:43:51.8419583Z [36;1m  "- artifact_name: $artifactName",[0m
2026-02-21T07:43:51.8419886Z [36;1m  '- one_tap_report: See ONE_TAP_ERROR_REPORT.txt',[0m
2026-02-21T07:43:51.8420161Z [36;1m  '',[0m
2026-02-21T07:43:51.8420364Z [36;1m  '## runner_diag_tail (last 200 lines)',[0m
2026-02-21T07:43:51.8420608Z [36;1m  '```text',[0m
2026-02-21T07:43:51.8420798Z [36;1m  $runnerTailText,[0m
2026-02-21T07:43:51.8420997Z [36;1m  '```',[0m
2026-02-21T07:43:51.8421150Z [36;1m  '',[0m
2026-02-21T07:43:51.8421341Z [36;1m  '## workflow_tail (last 200 lines)',[0m
2026-02-21T07:43:51.8421586Z [36;1m  '```text',[0m
2026-02-21T07:43:51.8421771Z [36;1m  $workflowTailText,[0m
2026-02-21T07:43:51.8421960Z [36;1m  '```'[0m
2026-02-21T07:43:51.8422123Z [36;1m) -join "`r`n"[0m
2026-02-21T07:43:51.8422339Z [36;1m$summary = Mask-Secrets -Text $summary[0m
2026-02-21T07:43:51.8422690Z [36;1mSet-Content -Path $summaryPath -Value $summary -Encoding UTF8[0m
2026-02-21T07:43:51.8423012Z [36;1m[0m
2026-02-21T07:43:51.8423263Z [36;1m$runnerTailPath = Join-Path $diagOut 'runner_diag_tail.txt'[0m
2026-02-21T07:43:51.8423711Z [36;1mSet-Content -Path $runnerTailPath -Value $runnerTailText -Encoding UTF8[0m
2026-02-21T07:43:51.8424171Z [36;1m$workflowTailPath = Join-Path $diagOut 'workflow_tail.txt'[0m
2026-02-21T07:43:51.8424637Z [36;1mSet-Content -Path $workflowTailPath -Value $workflowTailText -Encoding UTF8[0m
2026-02-21T07:43:51.8425508Z [36;1m[0m
2026-02-21T07:43:51.8425761Z [36;1m$fullZip = Join-Path $env:RUNNER_TEMP ("{0}.zip" -f $artifactName)[0m
2026-02-21T07:43:51.8426187Z [36;1mif (Test-Path $fullZip) { Remove-Item $fullZip -Force }[0m
2026-02-21T07:43:51.8426657Z [36;1mCompress-Archive -Path (Join-Path $diagOut '*') -DestinationPath $fullZip -Force[0m
2026-02-21T07:43:51.8427048Z [36;1m[0m
2026-02-21T07:43:51.8427365Z [36;1m"diag_out=$diagOut" | Out-File -FilePath $env:GITHUB_OUTPUT -Encoding utf8 -Append[0m
2026-02-21T07:43:51.8427936Z [36;1m"diag_summary=$summaryPath" | Out-File -FilePath $env:GITHUB_OUTPUT -Encoding utf8 -Append[0m
2026-02-21T07:43:51.8428562Z [36;1m"diag_runner_tail=$runnerTailPath" | Out-File -FilePath $env:GITHUB_OUTPUT -Encoding utf8 -Append[0m
2026-02-21T07:43:51.8429221Z [36;1m"diag_workflow_tail=$workflowTailPath" | Out-File -FilePath $env:GITHUB_OUTPUT -Encoding utf8 -Append[0m
2026-02-21T07:43:51.8429822Z [36;1m"diag_zip=$fullZip" | Out-File -FilePath $env:GITHUB_OUTPUT -Encoding utf8 -Append[0m
2026-02-21T07:43:51.8430408Z [36;1m"diag_artifact_name=$artifactName" | Out-File -FilePath $env:GITHUB_OUTPUT -Encoding utf8 -Append[0m
2026-02-21T07:43:51.8446616Z shell: C:\Windows\System32\WindowsPowerShell\v1.0\powershell.EXE -NoProfile -ExecutionPolicy Bypass -Command "{0}"
2026-02-21T07:43:51.8447116Z env:
2026-02-21T07:43:51.8447337Z   REPO_ROOT: C:\work\apex_repo_cache\ApexTraderAI
2026-02-21T07:43:51.8447610Z   FAILING_STEP: unknown
2026-02-21T07:43:51.8447790Z ##[endgroup]

----- FILE: actions_logs/run/22_Upload full diagnostics artifact.txt -----
ï»¿2026-02-21T07:43:52.8431412Z ##[group]Run actions/upload-artifact@v4
2026-02-21T07:43:52.8431798Z with:
2026-02-21T07:43:52.8431972Z   name: diag_full_22252976665_1
2026-02-21T07:43:52.8432208Z   if-no-files-found: warn
2026-02-21T07:43:52.8432423Z   retention-days: 7
2026-02-21T07:43:52.8432886Z   path: C:\Users\becky\OneDrive\ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—\Python\apex-trader-ai\actions-runner\_work\_temp\diag_full_22252976665_1.zip
2026-02-21T07:43:52.8433448Z   compression-level: 6
2026-02-21T07:43:52.8433659Z   overwrite: false
2026-02-21T07:43:52.8433858Z   include-hidden-files: false
2026-02-21T07:43:52.8434107Z env:
2026-02-21T07:43:52.8434315Z   REPO_ROOT: C:\work\apex_repo_cache\ApexTraderAI
2026-02-21T07:43:52.8434595Z ##[endgroup]
2026-02-21T07:43:53.1254300Z With the provided path, there will be 1 file uploaded
2026-02-21T07:43:53.1261302Z Artifact name is valid!
2026-02-21T07:43:53.1264761Z Root directory input is valid!
2026-02-21T07:43:53.7468117Z Beginning upload of artifact content to blob storage
2026-02-21T07:43:54.8009423Z Uploaded bytes 88462
2026-02-21T07:43:54.9772900Z Finished uploading artifact content to blob storage!
2026-02-21T07:43:54.9776017Z SHA256 digest of uploaded artifact zip is a783d0ed83ffa3da9189a41261bd6697538b28697ea7e778ad0a0ca0dd1feb78
2026-02-21T07:43:54.9777935Z Finalizing artifact upload
2026-02-21T07:43:55.2170938Z Artifact diag_full_22252976665_1.zip successfully finalized. Artifact ID 5600264081
2026-02-21T07:43:55.2171871Z Artifact diag_full_22252976665_1 has been successfully uploaded! Final size is 88462 bytes. Artifact ID is 5600264081
2026-02-21T07:43:55.2187207Z Artifact download URL: https://github.com/toki866/ApexTraderAI/actions/runs/22252976665/artifacts/5600264081

----- FILE: actions_logs/run/23_Upload diagnostics artifact.txt -----
ï»¿2026-02-21T07:43:55.2511481Z ##[group]Run actions/upload-artifact@v4
2026-02-21T07:43:55.2511835Z with:
2026-02-21T07:43:55.2512009Z   name: diagnostics
2026-02-21T07:43:55.2512207Z   if-no-files-found: warn
2026-02-21T07:43:55.2512435Z   path: _diagnostics/**/*
2026-02-21T07:43:55.2512654Z   compression-level: 6
2026-02-21T07:43:55.2512857Z   overwrite: false
2026-02-21T07:43:55.2513058Z   include-hidden-files: false
2026-02-21T07:43:55.2513287Z env:
2026-02-21T07:43:55.2513498Z   REPO_ROOT: C:\work\apex_repo_cache\ApexTraderAI
2026-02-21T07:43:55.2513786Z ##[endgroup]
2026-02-21T07:43:55.6350450Z ##[warning]No files were found with the provided path: _diagnostics/**/*. No artifacts will be uploaded.

----- FILE: actions_logs/run/24_Complete job.txt -----
ï»¿2026-02-21T07:43:55.6471403Z Cleaning up orphan processes

----- FILE: actions_logs/run/2_Prepare repo in C_work (no OneDrive cleanup).txt -----
ï»¿2026-02-21T07:42:11.6046508Z ##[group]Run $ErrorActionPreference = 'Stop'
2026-02-21T07:42:11.6047304Z [36;1m$ErrorActionPreference = 'Stop'[0m
2026-02-21T07:42:11.6047678Z [36;1mgit config --global core.longpaths true[0m
2026-02-21T07:42:11.6047991Z [36;1m[0m
2026-02-21T07:42:11.6049019Z [36;1m$repoUrl = "***github.com/toki866/ApexTraderAI.git"[0m
2026-02-21T07:42:11.6049427Z [36;1m$cacheRoot = "C:\work\apex_repo_cache"[0m
2026-02-21T07:42:11.6049804Z [36;1m$repoDir = Join-Path $cacheRoot "ApexTraderAI"[0m
2026-02-21T07:42:11.6050128Z [36;1m[0m
2026-02-21T07:42:11.6050490Z [36;1mNew-Item -Path $cacheRoot -ItemType Directory -Force | Out-Null[0m
2026-02-21T07:42:11.6050937Z [36;1m[0m
2026-02-21T07:42:11.6051271Z [36;1mif (!(Test-Path (Join-Path $repoDir ".git"))) {[0m
2026-02-21T07:42:11.6051881Z [36;1m  Write-Host "[repo] cloning to $repoDir"[0m
2026-02-21T07:42:11.6052519Z [36;1m  if (Test-Path $repoDir) { Remove-Item -Path $repoDir -Recurse -Force -ErrorAction SilentlyContinue }[0m
2026-02-21T07:42:11.6053142Z [36;1m  git clone $repoUrl $repoDir[0m
2026-02-21T07:42:11.6053633Z [36;1m  if ($LASTEXITCODE -ne 0) { throw "git clone failed (exit=$LASTEXITCODE)" }[0m
2026-02-21T07:42:11.6054082Z [36;1m} else {[0m
2026-02-21T07:42:11.6054361Z [36;1m  Write-Host "[repo] fetch/reset in $repoDir"[0m
2026-02-21T07:42:11.6054791Z [36;1m  git -C $repoDir remote set-url origin $repoUrl | Out-Null[0m
2026-02-21T07:42:11.6055226Z [36;1m  git -C $repoDir fetch --force --prune origin[0m
2026-02-21T07:42:11.6055720Z [36;1m  if ($LASTEXITCODE -ne 0) { throw "git fetch failed (exit=$LASTEXITCODE)" }[0m
2026-02-21T07:42:11.6056176Z [36;1m}[0m
2026-02-21T07:42:11.6056376Z [36;1m[0m
2026-02-21T07:42:11.6056628Z [36;1mgit -C $repoDir checkout -f $env:GITHUB_SHA[0m
2026-02-21T07:42:11.6057120Z [36;1mif ($LASTEXITCODE -ne 0) { throw "git checkout SHA failed (exit=$LASTEXITCODE)" }[0m
2026-02-21T07:42:11.6057637Z [36;1mgit -C $repoDir reset --hard $env:GITHUB_SHA[0m
2026-02-21T07:42:11.6058167Z [36;1mif ($LASTEXITCODE -ne 0) { throw "git reset SHA failed (exit=$LASTEXITCODE)" }[0m
2026-02-21T07:42:11.6058659Z [36;1mgit -C $repoDir clean -ffdx[0m
2026-02-21T07:42:11.6059091Z [36;1mif ($LASTEXITCODE -ne 0) { throw "git clean failed (exit=$LASTEXITCODE)" }[0m
2026-02-21T07:42:11.6059517Z [36;1m[0m
2026-02-21T07:42:11.6059795Z [36;1mgit config --global --add safe.directory $repoDir[0m
2026-02-21T07:42:11.6060144Z [36;1m[0m
2026-02-21T07:42:11.6060673Z [36;1mAdd-Content -Path $env:GITHUB_ENV -Value "REPO_ROOT=$repoDir"[0m
2026-02-21T07:42:11.6061212Z [36;1mWrite-Host "REPO_ROOT=$repoDir"[0m
2026-02-21T07:42:11.6061571Z [36;1m$headShort = git -C $repoDir rev-parse --short HEAD[0m
2026-02-21T07:42:11.6061921Z [36;1mWrite-Host "HEAD=$headShort"[0m
2026-02-21T07:42:11.6087988Z shell: C:\Windows\System32\WindowsPowerShell\v1.0\powershell.EXE -NoProfile -ExecutionPolicy Bypass -Command "{0}"
2026-02-21T07:42:11.6089206Z env:
2026-02-21T07:42:11.6090953Z   GIT_TERMINAL_PROMPT: 0
2026-02-21T07:42:11.6091220Z ##[endgroup]
2026-02-21T07:42:12.0095775Z [repo] fetch/reset in C:\work\apex_repo_cache\ApexTraderAI
2026-02-21T07:42:13.5951976Z From https://github.com/toki866/ApexTraderAI
2026-02-21T07:42:13.5952524Z    e8ba1a9..4c20f44  diag-logs  -> origin/diag-logs
2026-02-21T07:42:13.5952900Z    1654179..394f773  main       -> origin/main
2026-02-21T07:42:13.6764138Z Previous HEAD position was 1654179 Merge pull request #64 from toki866/codex/refactor-csv-generation-in-diag-logs-branch
2026-02-21T07:42:13.6765872Z HEAD is now at 394f773 Merge pull request #65 from toki866/codex/add-retention-for-diag-logs-run-folders
2026-02-21T07:42:13.7198759Z HEAD is now at 394f773 Merge pull request #65 from toki866/codex/add-retention-for-diag-logs-run-folders
2026-02-21T07:42:13.7582230Z Removing ai_core/__pycache__/
2026-02-21T07:42:13.7582720Z Removing ai_core/config/__pycache__/
2026-02-21T07:42:13.7583050Z Removing ai_core/services/__pycache__/
2026-02-21T07:42:13.7583395Z Removing ai_core/types/__pycache__/
2026-02-21T07:42:13.7584983Z Removing ai_core/utils/__pycache__/
2026-02-21T07:42:13.7585367Z Removing output/
2026-02-21T07:42:13.7585650Z Removing temp/
2026-02-21T07:42:13.8191909Z REPO_ROOT=C:\work\apex_repo_cache\ApexTraderAI
2026-02-21T07:42:13.8537940Z HEAD=394f773

----- FILE: actions_logs/run/3_Initialize ONE_TAP error report.txt -----
ï»¿2026-02-21T07:42:13.8976653Z ##[group]Run $ErrorActionPreference = 'Stop'
2026-02-21T07:42:13.8977256Z [36;1m$ErrorActionPreference = 'Stop'[0m
2026-02-21T07:42:13.8977597Z [36;1m$reportDir = Join-Path $env:GITHUB_WORKSPACE 'temp'[0m
2026-02-21T07:42:13.8978037Z [36;1m$null = New-Item -Path $reportDir -ItemType Directory -Force[0m
2026-02-21T07:42:13.8978476Z [36;1m$reportPath = Join-Path $reportDir 'ONE_TAP_ERROR_REPORT.txt'[0m
2026-02-21T07:42:13.8978807Z [36;1m[0m
2026-02-21T07:42:13.8978955Z [36;1m@([0m
2026-02-21T07:42:13.8979134Z [36;1m  '=== ONE TAP ERROR REPORT ===',[0m
2026-02-21T07:42:13.8979510Z [36;1m  ('timestamp={0}' -f (Get-Date -Format 'yyyy-MM-dd HH:mm:ss zzz')),[0m
2026-02-21T07:42:13.8979905Z [36;1m  ('repo=toki866/ApexTraderAI'),[0m
2026-02-21T07:42:13.8980159Z [36;1m  ('ref=refs/heads/main'),[0m
2026-02-21T07:42:13.8980454Z [36;1m  ('sha=394f77318a4e0b50ea26b51d840c292e1206e8f4'),[0m
2026-02-21T07:42:13.8980754Z [36;1m  ('run_id=22252976665'),[0m
2026-02-21T07:42:13.8980980Z [36;1m  ('run_attempt=1'),[0m
2026-02-21T07:42:13.8993855Z [36;1m  ''[0m
2026-02-21T07:42:13.8994349Z [36;1m) | Set-Content -Path $reportPath -Encoding UTF8[0m
2026-02-21T07:42:13.8994807Z [36;1m[0m
2026-02-21T07:42:13.8995150Z [36;1mAdd-Content -Path $reportPath -Value @([0m
2026-02-21T07:42:13.8995649Z [36;1m  '[STEP] initialize_one_tap_report',[0m
2026-02-21T07:42:13.8996087Z [36;1m  '[OK] report initialized',[0m
2026-02-21T07:42:13.8996518Z [36;1m  ('[PATH] {0}' -f $reportPath),[0m
2026-02-21T07:42:13.8997017Z [36;1m  ('[INFO] REPO_ROOT={0}' -f $env:REPO_ROOT),[0m
2026-02-21T07:42:13.8997681Z [36;1m  ('[INFO] HEAD={0}' -f (git -C $env:REPO_ROOT rev-parse --short HEAD)),[0m
2026-02-21T07:42:13.8998320Z [36;1m  ''[0m
2026-02-21T07:42:13.8998610Z [36;1m)[0m
2026-02-21T07:42:13.9019662Z shell: C:\Windows\System32\WindowsPowerShell\v1.0\powershell.EXE -NoProfile -ExecutionPolicy Bypass -Command "{0}"
2026-02-21T07:42:13.9020231Z env:
2026-02-21T07:42:13.9020441Z   REPO_ROOT: C:\work\apex_repo_cache\ApexTraderAI
2026-02-21T07:42:13.9020748Z ##[endgroup]

----- FILE: actions_logs/run/4_Verify scripts directory (post-prepare).txt -----
ï»¿2026-02-21T07:42:14.3069073Z ##[group]Run $ErrorActionPreference='Stop'
2026-02-21T07:42:14.3069570Z [36;1m$ErrorActionPreference='Stop'[0m
2026-02-21T07:42:14.3069856Z [36;1m$repoRoot = $env:REPO_ROOT[0m
2026-02-21T07:42:14.3070113Z [36;1mSet-Location $repoRoot[0m
2026-02-21T07:42:14.3070529Z [36;1mWrite-Host "***"[0m
2026-02-21T07:42:14.3070825Z [36;1mWrite-Host "HEAD=$(git rev-parse --short HEAD)"[0m
2026-02-21T07:42:14.3071191Z [36;1mWrite-Host "=== workspace listing ==="[0m
2026-02-21T07:42:14.3071679Z [36;1mGet-ChildItem -Path $repoRoot | Select-Object Name, FullName | Format-Table -AutoSize[0m
2026-02-21T07:42:14.3072978Z [36;1m$scriptsDir = Join-Path $repoRoot 'scripts'[0m
2026-02-21T07:42:14.3073318Z [36;1mWrite-Host "scripts_dir=$scriptsDir"[0m
2026-02-21T07:42:14.3073762Z [36;1mif (!(Test-Path $scriptsDir)) { throw "scripts directory not found: $scriptsDir" }[0m
2026-02-21T07:42:14.3074441Z [36;1mGet-ChildItem -Path $scriptsDir | Select-Object Name, Length, LastWriteTime | Format-Table -AutoSize[0m
2026-02-21T07:42:14.3094613Z shell: C:\Windows\System32\WindowsPowerShell\v1.0\powershell.EXE -NoProfile -ExecutionPolicy Bypass -Command "{0}"
2026-02-21T07:42:14.3095166Z env:
2026-02-21T07:42:14.3095370Z   REPO_ROOT: C:\work\apex_repo_cache\ApexTraderAI
2026-02-21T07:42:14.3095638Z ##[endgroup]
2026-02-21T07:42:14.5941603Z ***
2026-02-21T07:42:14.6299761Z HEAD=394f773
2026-02-21T07:42:14.6303729Z === workspace listing ===
2026-02-21T07:42:14.6371356Z 
2026-02-21T07:42:14.6413338Z Name                                               FullName                                                            
2026-02-21T07:42:14.6414281Z ----                                               --------                                                            
2026-02-21T07:42:14.6414936Z .github                                            C:\work\apex_repo_cache\ApexTraderAI\.github                        
2026-02-21T07:42:14.6415847Z ai_core                                            C:\work\apex_repo_cache\ApexTraderAI\ai_core                        
2026-02-21T07:42:14.6416615Z archive                                            C:\work\apex_repo_cache\ApexTraderAI\archive                        
2026-02-21T07:42:14.6417306Z config                                             C:\work\apex_repo_cache\ApexTraderAI\config                         
2026-02-21T07:42:14.6418037Z data                                               C:\work\apex_repo_cache\ApexTraderAI\data                           
2026-02-21T07:42:14.6418761Z docs                                               C:\work\apex_repo_cache\ApexTraderAI\docs                           
2026-02-21T07:42:14.6419427Z engine                                             C:\work\apex_repo_cache\ApexTraderAI\engine                         
2026-02-21T07:42:14.6420113Z scripts                                            C:\work\apex_repo_cache\ApexTraderAI\scripts                        
2026-02-21T07:42:14.6420822Z specs                                              C:\work\apex_repo_cache\ApexTraderAI\specs                          
2026-02-21T07:42:14.6421614Z tools                                              C:\work\apex_repo_cache\ApexTraderAI\tools                          
2026-02-21T07:42:14.6422302Z .gitignore                                         C:\work\apex_repo_cache\ApexTraderAI\.gitignore                     
2026-02-21T07:42:14.6423006Z AGENTS.md                                          C:\work\apex_repo_cache\ApexTraderAI\AGENTS.md                      
2026-02-21T07:42:14.6423798Z auto_trader.py                                     C:\work\apex_repo_cache\ApexTraderAI\auto_trader.py                 
2026-02-21T07:42:14.6424595Z main_v0_6.py                                       C:\work\apex_repo_cache\ApexTraderAI\main_v0_6.py                   
2026-02-21T07:42:14.6425271Z README.md                                          C:\work\apex_repo_cache\ApexTraderAI\README.md                      
2026-02-21T07:42:14.6425983Z requirements.txt                                   C:\work\apex_repo_cache\ApexTraderAI\requirements.txt               
2026-02-21T07:42:14.6428573Z run_stepd_prime.py                                 C:\work\apex_repo_cache\ApexTraderAI\run_stepd_prime.py             
2026-02-21T07:42:14.6429318Z run_steps_a_f_headless.py                          C:\work\apex_repo_cache\ApexTraderAI\run_steps_a_f_headless.py      
2026-02-21T07:42:14.6432200Z run_steps_a_f_headless_safe3_lazy_import.py        C:\work\apex_repo_cache\ApexTraderAI\run_steps_a_f_headless_safe3...
2026-02-21T07:42:14.6439238Z run_steps_a_f_headless_safe4_force_stepb_agents.py C:\work\apex_repo_cache\ApexTraderAI\run_steps_a_f_headless_safe4...
2026-02-21T07:42:14.6439748Z 
2026-02-21T07:42:14.6439756Z 
2026-02-21T07:42:14.6456929Z scripts_dir=C:\work\apex_repo_cache\ApexTraderAI\scripts
2026-02-21T07:42:14.6514584Z 
2026-02-21T07:42:14.6529831Z Name                                Length LastWriteTime      
2026-02-21T07:42:14.6530852Z ----                                ------ -------------      
2026-02-21T07:42:14.6531553Z bat_config.bat                        1651 2026/02/21 10:12:46
2026-02-21T07:42:14.6532462Z copy_run_to_onedrive.bat              1072 2026/02/21 10:12:46
2026-02-21T07:42:14.6533120Z doctor.bat                            1973 2026/02/21 10:12:46
2026-02-21T07:42:14.6534090Z package_diagnostics.ps1                801 2026/02/21 10:12:46
2026-02-21T07:42:14.6534739Z package_diagnostics_to_onedrive.ps1   3248 2026/02/21 10:51:29
2026-02-21T07:42:14.6535789Z run_all_local_then_copy.bat           9168 2026/02/21 13:42:05
2026-02-21T07:42:14.6536139Z 
2026-02-21T07:42:14.6536148Z 

----- FILE: actions_logs/run/5_Debug shells.txt -----
ï»¿2026-02-21T07:42:14.7033111Z ##[group]Run echo RUNNER_OS=%RUNNER_OS%
2026-02-21T07:42:14.7033680Z [36;1mecho RUNNER_OS=%RUNNER_OS%[0m
2026-02-21T07:42:14.7033940Z [36;1mecho === powershell path ===[0m
2026-02-21T07:42:14.7034184Z [36;1mwhere powershell >nul 2>&1[0m
2026-02-21T07:42:14.7034415Z [36;1mif %ERRORLEVEL% EQU 0 ([0m
2026-02-21T07:42:14.7034635Z [36;1m  where powershell[0m
2026-02-21T07:42:14.7034836Z [36;1m) else ([0m
2026-02-21T07:42:14.7035015Z [36;1m  echo powershell_not_found[0m
2026-02-21T07:42:14.7035232Z [36;1m)[0m
2026-02-21T07:42:14.7035407Z [36;1mecho === pwsh path (optional) ===[0m
2026-02-21T07:42:14.7035657Z [36;1mwhere pwsh >nul 2>&1[0m
2026-02-21T07:42:14.7035871Z [36;1mif %ERRORLEVEL% EQU 0 ([0m
2026-02-21T07:42:14.7036114Z [36;1m  pwsh -v[0m
2026-02-21T07:42:14.7036285Z [36;1m) else ([0m
2026-02-21T07:42:14.7036486Z [36;1m  echo pwsh_not_found (OK)[0m
2026-02-21T07:42:14.7036702Z [36;1m)[0m
2026-02-21T07:42:14.7036849Z [36;1mexit /b 0[0m
2026-02-21T07:42:14.7042238Z shell: C:\Windows\system32\cmd.EXE /D /E:ON /V:OFF /S /C "CALL "{0}""
2026-02-21T07:42:14.7042584Z env:
2026-02-21T07:42:14.7042798Z   REPO_ROOT: C:\work\apex_repo_cache\ApexTraderAI
2026-02-21T07:42:14.7043078Z ##[endgroup]
2026-02-21T07:42:14.7440595Z RUNNER_OS=Windows
2026-02-21T07:42:14.7441103Z === powershell path ===
2026-02-21T07:42:14.9957390Z C:\Windows\System32\WindowsPowerShell\v1.0\powershell.exe
2026-02-21T07:42:15.0020362Z === pwsh path (optional) ===
2026-02-21T07:42:15.1719266Z pwsh_not_found (OK

----- FILE: actions_logs/run/6_Debug python environment.txt -----
ï»¿2026-02-21T07:42:15.1847806Z ##[group]Run where python
2026-02-21T07:42:15.1848168Z [36;1mwhere python[0m
2026-02-21T07:42:15.1848369Z [36;1mpython --version[0m
2026-02-21T07:42:15.1848589Z [36;1mecho RUNNER_TEMP=%RUNNER_TEMP%[0m
2026-02-21T07:42:15.1848873Z [36;1mecho GITHUB_WORKSPACE=%GITHUB_WORKSPACE%[0m
2026-02-21T07:42:15.1853028Z shell: C:\Windows\system32\cmd.EXE /D /E:ON /V:OFF /S /C "CALL "{0}""
2026-02-21T07:42:15.1853357Z env:
2026-02-21T07:42:15.1853554Z   REPO_ROOT: C:\work\apex_repo_cache\ApexTraderAI
2026-02-21T07:42:15.1853810Z ##[endgroup]
2026-02-21T07:42:15.3208476Z C:\Users\becky\AppData\Local\Programs\Python\Python310\python.exe
2026-02-21T07:42:15.3311746Z Python 3.10.6
2026-02-21T07:42:15.3322982Z RUNNER_TEMP=C:\Users\becky\OneDrive\ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—\Python\apex-trader-ai\actions-runner\_work\_temp
2026-02-21T07:42:15.3330205Z GITHUB_WORKSPACE=C:\Users\becky\OneDrive\ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—\Python\apex-trader-ai\actions-runner\_work\ApexTraderAI\ApexTraderAI

----- FILE: actions_logs/run/7_Verify required scripts.txt -----
ï»¿2026-02-21T07:42:15.3499670Z ##[group]Run $ErrorActionPreference = 'Stop'
2026-02-21T07:42:15.3500459Z [36;1m$ErrorActionPreference = 'Stop'[0m
2026-02-21T07:42:15.3500851Z [36;1mSet-Location $env:REPO_ROOT[0m
2026-02-21T07:42:15.3501068Z [36;1m[0m
2026-02-21T07:42:15.3501276Z [36;1m$reportDir = Join-Path $env:REPO_ROOT 'temp'[0m
2026-02-21T07:42:15.3501856Z [36;1m$null = New-Item -Path $reportDir -ItemType Directory -Force[0m
2026-02-21T07:42:15.3502564Z [36;1m$reportPath = Join-Path $reportDir 'ONE_TAP_ERROR_REPORT.txt'[0m
2026-02-21T07:42:15.3503090Z [36;1m[0m
2026-02-21T07:42:15.3503344Z [36;1mAdd-Content -Path $reportPath -Value @([0m
2026-02-21T07:42:15.3503663Z [36;1m  '[STEP] verify_required_scripts',[0m
2026-02-21T07:42:15.3503953Z [36;1m  ('[INFO] REPO_ROOT={0}' -f $env:REPO_ROOT),[0m
2026-02-21T07:42:15.3504308Z [36;1m  ('[INFO] GITHUB_WORKSPACE={0}' -f $env:GITHUB_WORKSPACE),[0m
2026-02-21T07:42:15.3504843Z [36;1m  ('[INFO] ***' -f $PWD),[0m
2026-02-21T07:42:15.3505353Z [36;1m  ''[0m
2026-02-21T07:42:15.3505632Z [36;1m)[0m
2026-02-21T07:42:15.3505830Z [36;1m[0m
2026-02-21T07:42:15.3506093Z [36;1mWrite-Host '=== Verify scripts directory ==='[0m
2026-02-21T07:42:15.3506412Z [36;1mWrite-Host "REPO_ROOT=$env:REPO_ROOT"[0m
2026-02-21T07:42:15.3506720Z [36;1m$headShort = git rev-parse --short HEAD 2>$null[0m
2026-02-21T07:42:15.3507058Z [36;1mif ($LASTEXITCODE -eq 0 -and $headShort) {[0m
2026-02-21T07:42:15.3507480Z [36;1m  Write-Host ("HEAD={0}" -f $headShort.Trim())[0m
2026-02-21T07:42:15.3508083Z [36;1m} else {[0m
2026-02-21T07:42:15.3508523Z [36;1m  Write-Warning 'Unable to resolve HEAD via git rev-parse --short HEAD'[0m
2026-02-21T07:42:15.3508920Z [36;1m}[0m
2026-02-21T07:42:15.3509144Z [36;1mWrite-Host 'git ls-files scripts (best effort):'[0m
2026-02-21T07:42:15.3509440Z [36;1mgit ls-files scripts 2>$null[0m
2026-02-21T07:42:15.3509730Z [36;1m$scriptsDir = Join-Path $env:REPO_ROOT 'scripts'[0m
2026-02-21T07:42:15.3510259Z [36;1mWrite-Host "scripts_dir=$scriptsDir"[0m
2026-02-21T07:42:15.3510733Z [36;1mif (Test-Path $scriptsDir) {[0m
2026-02-21T07:42:15.3511327Z [36;1m  Get-ChildItem -Path $scriptsDir | Select-Object Name, Length, LastWriteTime | Format-Table -AutoSize[0m
2026-02-21T07:42:15.3511801Z [36;1m} else {[0m
2026-02-21T07:42:15.3512069Z [36;1m  Write-Warning "scripts directory not found: $scriptsDir"[0m
2026-02-21T07:42:15.3512393Z [36;1m}[0m
2026-02-21T07:42:15.3512547Z [36;1m[0m
2026-02-21T07:42:15.3512970Z [36;1m$expected = @([0m
2026-02-21T07:42:15.3513422Z [36;1m  (Join-Path $env:REPO_ROOT 'scripts\run_all_local_then_copy.bat'),[0m
2026-02-21T07:42:15.3513961Z [36;1m  (Join-Path $env:REPO_ROOT 'scripts\package_diagnostics.ps1'),[0m
2026-02-21T07:42:15.3514427Z [36;1m  (Join-Path $env:REPO_ROOT 'scripts\package_diagnostics_to_onedrive.ps1')[0m
2026-02-21T07:42:15.3514793Z [36;1m)[0m
2026-02-21T07:42:15.3514929Z [36;1m[0m
2026-02-21T07:42:15.3515078Z [36;1m$missing = @()[0m
2026-02-21T07:42:15.3515640Z [36;1mforeach ($path in $expected) {[0m
2026-02-21T07:42:15.3515991Z [36;1m  if (Test-Path $path) {[0m
2026-02-21T07:42:15.3516310Z [36;1m    Write-Host "[FOUND] $path"[0m
2026-02-21T07:42:15.3516539Z [36;1m  } else {[0m
2026-02-21T07:42:15.3516744Z [36;1m    Write-Warning "[MISSING] $path"[0m
2026-02-21T07:42:15.3516993Z [36;1m    $missing += $path[0m
2026-02-21T07:42:15.3517191Z [36;1m  }[0m
2026-02-21T07:42:15.3517332Z [36;1m}[0m
2026-02-21T07:42:15.3517470Z [36;1m[0m
2026-02-21T07:42:15.3517628Z [36;1m$searchResults = [ordered]@{}[0m
2026-02-21T07:42:15.3518628Z [36;1mforeach ($fileName in @('run_all_local_then_copy.bat', 'package_diagnostics.ps1', 'package_diagnostics_to_onedrive.ps1')) {[0m
2026-02-21T07:42:15.3519508Z [36;1m  $hits = Get-ChildItem -Path $env:REPO_ROOT -Recurse -Filter $fileName -File -ErrorAction SilentlyContinue |[0m
2026-02-21T07:42:15.3520071Z [36;1m    Select-Object -First 5 -ExpandProperty FullName[0m
2026-02-21T07:42:15.3520849Z [36;1m  $searchResults[$fileName] = if ($hits) { $hits } else { @('(no matches)') }[0m
2026-02-21T07:42:15.3523278Z [36;1m}[0m
2026-02-21T07:42:15.3523711Z [36;1m[0m
2026-02-21T07:42:15.3549950Z [36;1mAdd-Content -Path $reportPath -Value @([0m
2026-02-21T07:42:15.3550521Z [36;1m  '## REQUIRED_SCRIPT_CHECK',[0m
2026-02-21T07:42:15.3551771Z [36;1m  ('repo_root={0}' -f $env:REPO_ROOT),[0m
2026-02-21T07:42:15.3552135Z [36;1m  ('scripts_dir_exists={0}' -f (Test-Path $scriptsDir)),[0m
2026-02-21T07:42:15.3552599Z [36;1m  ('scripts_dir={0}' -f $scriptsDir),[0m
2026-02-21T07:42:15.3553031Z [36;1m  '',[0m
2026-02-21T07:42:15.3553210Z [36;1m  '### scripts_dir_listing',[0m
2026-02-21T07:42:15.3553443Z [36;1m  $([0m
2026-02-21T07:42:15.3553649Z [36;1m    if (Test-Path $scriptsDir) {[0m
2026-02-21T07:42:15.3554097Z [36;1m      $listing = Get-ChildItem -Path $scriptsDir | Sort-Object Name | ForEach-Object {[0m
2026-02-21T07:42:15.3554694Z [36;1m        '- {0} | len={1} | mtime={2}' -f $_.Name, $_.Length, $_.LastWriteTime[0m
2026-02-21T07:42:15.3555087Z [36;1m      }[0m
2026-02-21T07:42:15.3555347Z [36;1m      if ($listing) { $listing } else { '- (empty)' }[0m
2026-02-21T07:42:15.3555649Z [36;1m    } else {[0m
2026-02-21T07:42:15.3555876Z [36;1m      '- (scripts directory missing)'[0m
2026-02-21T07:42:15.3556150Z [36;1m    }[0m
2026-02-21T07:42:15.3556315Z [36;1m  ),[0m
2026-02-21T07:42:15.3556480Z [36;1m  '',[0m
2026-02-21T07:42:15.3556650Z [36;1m  '### FOUND',[0m
2026-02-21T07:42:15.3557013Z [36;1m  ($expected | Where-Object { Test-Path $_ } | ForEach-Object { "- $_" }),[0m
2026-02-21T07:42:15.3557442Z [36;1m  '',[0m
2026-02-21T07:42:15.3557644Z [36;1m  '### MISSING',[0m
2026-02-21T07:42:15.3558033Z [36;1m  ($(if ($missing.Count -gt 0) { $missing | ForEach-Object { "- $_" } } else { '- (none)' })),[0m
2026-02-21T07:42:15.3558487Z [36;1m  '',[0m
2026-02-21T07:42:15.3558735Z [36;1m  '### recursive_search_run_all_local_then_copy.bat',[0m
2026-02-21T07:42:15.3559214Z [36;1m  ($searchResults['run_all_local_then_copy.bat'] | ForEach-Object { "- $_" }),[0m
2026-02-21T07:42:15.3559612Z [36;1m  '',[0m
2026-02-21T07:42:15.3559878Z [36;1m  '### recursive_search_package_diagnostics.ps1',[0m
2026-02-21T07:42:15.3560331Z [36;1m  ($searchResults['package_diagnostics.ps1'] | ForEach-Object { "- $_" }),[0m
2026-02-21T07:42:15.3560727Z [36;1m  '',[0m
2026-02-21T07:42:15.3560997Z [36;1m  '### recursive_search_package_diagnostics_to_onedrive.ps1',[0m
2026-02-21T07:42:15.3561569Z [36;1m  ($searchResults['package_diagnostics_to_onedrive.ps1'] | ForEach-Object { "- $_" }),[0m
2026-02-21T07:42:15.3562053Z [36;1m  '',[0m
2026-02-21T07:42:15.3562227Z [36;1m  '## NEXT_ACTION',[0m
2026-02-21T07:42:15.3562562Z [36;1m  '- Open Artifact desktop-run-* and copy ONE_TAP_ERROR_REPORT.txt'[0m
2026-02-21T07:42:15.3562924Z [36;1m)[0m
2026-02-21T07:42:15.3563072Z [36;1m[0m
2026-02-21T07:42:15.3563246Z [36;1mif ($missing.Count -gt 0) {[0m
2026-02-21T07:42:15.3563543Z [36;1m  Add-Content -Path $reportPath -Value @([0m
2026-02-21T07:42:15.3563852Z [36;1m    '[NG] verify_required_scripts',[0m
2026-02-21T07:42:15.3564199Z [36;1m    ('[NG] missing_count={0}' -f $missing.Count),[0m
2026-02-21T07:42:15.3564489Z [36;1m    ''[0m
2026-02-21T07:42:15.3564662Z [36;1m  )[0m
2026-02-21T07:42:15.3564822Z [36;1m} else {[0m
2026-02-21T07:42:15.3565069Z [36;1m  Add-Content -Path $reportPath -Value @([0m
2026-02-21T07:42:15.3565412Z [36;1m    '[OK] verify_required_scripts',[0m
2026-02-21T07:42:15.3565658Z [36;1m    ''[0m
2026-02-21T07:42:15.3565820Z [36;1m  )[0m
2026-02-21T07:42:15.3565968Z [36;1m}[0m
2026-02-21T07:42:15.3566131Z [36;1m[0m
2026-02-21T07:42:15.3566296Z [36;1mif ($missing.Count -gt 0) {[0m
2026-02-21T07:42:15.3566700Z [36;1m  Write-Host '=== Required scripts debug summary ==='[0m
2026-02-21T07:42:15.3567063Z [36;1m  Write-Host "REPO_ROOT=$env:REPO_ROOT"[0m
2026-02-21T07:42:15.3567383Z [36;1m  Write-Host "scriptsDir=$scriptsDir"[0m
2026-02-21T07:42:15.3568345Z [36;1m  if (Test-Path $scriptsDir) {[0m
2026-02-21T07:42:15.3568618Z [36;1m    Write-Host 'scriptsDir listing:'[0m
2026-02-21T07:42:15.3569161Z [36;1m    Get-ChildItem -Path $scriptsDir | Select-Object Name, Length, LastWriteTime | Format-Table -AutoSize[0m
2026-02-21T07:42:15.3570103Z [36;1m  }[0m
2026-02-21T07:42:15.3570338Z [36;1m  foreach ($fileName in $searchResults.Keys) {[0m
2026-02-21T07:42:15.3570658Z [36;1m    Write-Host "search($fileName):"[0m
2026-02-21T07:42:15.3571036Z [36;1m    $searchResults[$fileName] | ForEach-Object { Write-Host "  $_" }[0m
2026-02-21T07:42:15.3571399Z [36;1m  }[0m
2026-02-21T07:42:15.3571678Z [36;1m  $missingNames = $missing | ForEach-Object { Split-Path $_ -Leaf }[0m
2026-02-21T07:42:15.3572289Z [36;1m  throw ("Required scripts missing: {0}" -f (($missingNames | Sort-Object -Unique) -join ', '))[0m
2026-02-21T07:42:15.3572728Z [36;1m}[0m
2026-02-21T07:42:15.3590508Z shell: C:\Windows\System32\WindowsPowerShell\v1.0\powershell.EXE -NoProfile -ExecutionPolicy Bypass -Command "{0}"
2026-02-21T07:42:15.3591033Z env:
2026-02-21T07:42:15.3591222Z   REPO_ROOT: C:\work\apex_repo_cache\ApexTraderAI
2026-02-21T07:42:15.3591491Z ##[endgroup]
2026-02-21T07:42:15.6173048Z === Verify scripts directory ===
2026-02-21T07:42:15.6188108Z REPO_ROOT=C:\work\apex_repo_cache\ApexTraderAI
2026-02-21T07:42:15.6939747Z HEAD=394f773
2026-02-21T07:42:15.6942013Z git ls-files scripts (best effort):
2026-02-21T07:42:15.7244538Z scripts/bat_config.bat
2026-02-21T07:42:15.7244873Z scripts/copy_run_to_onedrive.bat
2026-02-21T07:42:15.7245126Z scripts/doctor.bat
2026-02-21T07:42:15.7245387Z scripts/package_diagnostics.ps1
2026-02-21T07:42:15.7245682Z scripts/package_diagnostics_to_onedrive.ps1
2026-02-21T07:42:15.7245989Z scripts/run_all_local_then_copy.bat
2026-02-21T07:42:15.7291295Z scripts_dir=C:\work\apex_repo_cache\ApexTraderAI\scripts
2026-02-21T07:42:15.7372021Z 
2026-02-21T07:42:15.7387742Z Name                                Length LastWriteTime      
2026-02-21T07:42:15.7388543Z ----                                ------ -------------      
2026-02-21T07:42:15.7389452Z bat_config.bat                        1651 2026/02/21 10:12:46
2026-02-21T07:42:15.7390157Z copy_run_to_onedrive.bat              1072 2026/02/21 10:12:46
2026-02-21T07:42:15.7391033Z doctor.bat                            1973 2026/02/21 10:12:46
2026-02-21T07:42:15.7391857Z package_diagnostics.ps1                801 2026/02/21 10:12:46
2026-02-21T07:42:15.7392671Z package_diagnostics_to_onedrive.ps1   3248 2026/02/21 10:51:29
2026-02-21T07:42:15.7393389Z run_all_local_then_copy.bat           9168 2026/02/21 13:42:05
2026-02-21T07:42:15.7393663Z 
2026-02-21T07:42:15.7393751Z 
2026-02-21T07:42:15.7404568Z [FOUND] C:\work\apex_repo_cache\ApexTraderAI\scripts\run_all_local_then_copy.bat
2026-02-21T07:42:15.7410526Z [FOUND] C:\work\apex_repo_cache\ApexTraderAI\scripts\package_diagnostics.ps1
2026-02-21T07:42:15.7416152Z [FOUND] C:\work\apex_repo_cache\ApexTraderAI\scripts\package_diagnostics_to_onedrive.ps1

----- FILE: actions_logs/run/8_Runner connectivity and host status.txt -----
ï»¿2026-02-21T07:42:15.8843658Z ##[group]Run Write-Host '=== Runner connectivity / host status ==='
2026-02-21T07:42:15.8844398Z [36;1mWrite-Host '=== Runner connectivity / host status ==='[0m
2026-02-21T07:42:15.8844829Z [36;1mwhoami[0m
2026-02-21T07:42:15.8845091Z [36;1mhostname[0m
2026-02-21T07:42:15.8845498Z [36;1mGet-Date -Format 'yyyy-MM-dd HH:mm:ss zzz'[0m
2026-02-21T07:42:15.8845872Z [36;1mWrite-Host "RUNNER_NAME=$env:RUNNER_NAME"[0m
2026-02-21T07:42:15.8846199Z [36;1mWrite-Host "RUNNER_OS=$env:RUNNER_OS"[0m
2026-02-21T07:42:15.8846607Z [36;1mWrite-Host "RUNNER_ARCH=$env:RUNNER_ARCH"[0m
2026-02-21T07:42:15.8847085Z [36;1mWrite-Host "GITHUB_WORKFLOW=$env:GITHUB_WORKFLOW"[0m
2026-02-21T07:42:15.8847568Z [36;1mWrite-Host "GITHUB_RUN_ID=$env:GITHUB_RUN_ID"[0m
2026-02-21T07:42:15.8855986Z [36;1mGet-Process | Where-Object { $_.Name -like '*Runner*' } |[0m
2026-02-21T07:42:15.8856605Z [36;1m  Select-Object Name, Id, StartTime |[0m
2026-02-21T07:42:15.8857037Z [36;1m  Format-Table -AutoSize[0m
2026-02-21T07:42:15.8884504Z shell: C:\Windows\System32\WindowsPowerShell\v1.0\powershell.EXE -NoProfile -ExecutionPolicy Bypass -Command "{0}"
2026-02-21T07:42:15.8885082Z env:
2026-02-21T07:42:15.8885355Z   REPO_ROOT: C:\work\apex_repo_cache\ApexTraderAI
2026-02-21T07:42:15.8886835Z ##[endgroup]
2026-02-21T07:42:16.1028501Z === Runner connectivity / host status ===
2026-02-21T07:42:16.1136335Z desktop-c54piia\becky
2026-02-21T07:42:16.1243868Z DESKTOP-C54PIIA
2026-02-21T07:42:16.1275664Z 2026-02-21 16:42:16 +09:00
2026-02-21T07:42:16.1291991Z RUNNER_NAME=DESKTOP-C54PIIA
2026-02-21T07:42:16.1296259Z RUNNER_OS=Windows
2026-02-21T07:42:16.1298800Z RUNNER_ARCH=X64
2026-02-21T07:42:16.1303684Z GITHUB_WORKFLOW=Run Desktop Pipeline
2026-02-21T07:42:16.1307613Z GITHUB_RUN_ID=22252976665
2026-02-21T07:42:16.1931595Z 
2026-02-21T07:42:16.1977284Z Name               Id StartTime          
2026-02-21T07:42:16.1977835Z ----               -- ---------          
2026-02-21T07:42:16.1978613Z Runner.Listener 12500 2026/02/21 6:39:02 
2026-02-21T07:42:16.1979500Z Runner.Worker    1936 2026/02/21 16:42:07
2026-02-21T07:42:16.1980306Z RunnerService   12440 2026/02/21 6:39:02 
2026-02-21T07:42:16.1980541Z 
2026-02-21T07:42:16.1981405Z 

----- FILE: actions_logs/run/9_Run desktop BAT.txt -----
ï»¿2026-02-21T07:42:16.2275773Z ##[group]Run $ErrorActionPreference = 'Stop'
2026-02-21T07:42:16.2276281Z [36;1m$ErrorActionPreference = 'Stop'[0m
2026-02-21T07:42:16.2276544Z [36;1mSet-Location $env:REPO_ROOT[0m
2026-02-21T07:42:16.2276932Z [36;1m$consoleLog = Join-Path $env:RUNNER_TEMP 'run_all_local_then_copy_console.log'[0m
2026-02-21T07:42:16.2277474Z [36;1m$reportPath = Join-Path $env:GITHUB_WORKSPACE 'temp\ONE_TAP_ERROR_REPORT.txt'[0m
2026-02-21T07:42:16.2277849Z [36;1m[0m
2026-02-21T07:42:16.2278096Z [36;1mAdd-Content -Path $reportPath -Value @([0m
2026-02-21T07:42:16.2278399Z [36;1m  '[STEP] run_desktop_bat',[0m
2026-02-21T07:42:16.2278676Z [36;1m  ('[INFO] console_log={0}' -f $consoleLog)[0m
2026-02-21T07:42:16.2278926Z [36;1m)[0m
2026-02-21T07:42:16.2279093Z [36;1m$batCandidates = @([0m
2026-02-21T07:42:16.2279412Z [36;1m  (Join-Path $env:REPO_ROOT 'scripts\run_all_local_then_copy.bat')[0m
2026-02-21T07:42:16.2279740Z [36;1m)[0m
2026-02-21T07:42:16.2280048Z [36;1m$bat = $batCandidates | Where-Object { Test-Path $_ } | Select-Object -First 1[0m
2026-02-21T07:42:16.2280515Z [36;1m[0m
2026-02-21T07:42:16.2280781Z [36;1mWrite-Host '=== Run desktop BAT preflight ==='[0m
2026-02-21T07:42:16.2281385Z [36;1mWrite-Host "***"[0m
2026-02-21T07:42:16.2281641Z [36;1mWrite-Host "REPO_ROOT=$env:REPO_ROOT"[0m
2026-02-21T07:42:16.2281970Z [36;1mWrite-Host "GITHUB_WORKSPACE=$env:GITHUB_WORKSPACE"[0m
2026-02-21T07:42:16.2282322Z [36;1mWrite-Host "RUNNER_TEMP=$env:RUNNER_TEMP"[0m
2026-02-21T07:42:16.2282901Z [36;1mGet-ChildItem (Join-Path $env:REPO_ROOT 'scripts') | Select-Object Name[0m
2026-02-21T07:42:16.2283312Z [36;1m& where.exe python 2>$null[0m
2026-02-21T07:42:16.2283689Z [36;1mWrite-Host ("BAT candidate paths: {0}" -f ($batCandidates -join '; '))[0m
2026-02-21T07:42:16.2284059Z [36;1m[0m
2026-02-21T07:42:16.2284225Z [36;1mif (-not $bat) {[0m
2026-02-21T07:42:16.2284507Z [36;1m  Add-Content -Path $reportPath -Value @([0m
2026-02-21T07:42:16.2284805Z [36;1m    '[NG] run_desktop_bat',[0m
2026-02-21T07:42:16.2285085Z [36;1m    '[NG] BAT not found',[0m
2026-02-21T07:42:16.2285304Z [36;1m    ''[0m
2026-02-21T07:42:16.2285498Z [36;1m  )[0m
2026-02-21T07:42:16.2285815Z [36;1m  Write-Error "BAT not found. candidates=$($batCandidates -join '; ')"[0m
2026-02-21T07:42:16.2286190Z [36;1m  exit 1[0m
2026-02-21T07:42:16.2286356Z [36;1m}[0m
2026-02-21T07:42:16.2286507Z [36;1m[0m
2026-02-21T07:42:16.2286674Z [36;1m$bat = (Get-Item $bat).FullName[0m
2026-02-21T07:42:16.2287004Z [36;1mWrite-Host ("Executing BAT full path: {0}" -f $bat)[0m
2026-02-21T07:42:16.2287302Z [36;1m[0m
2026-02-21T07:42:16.2287551Z [36;1m$null = New-Item -Path $consoleLog -ItemType File -Force[0m
2026-02-21T07:42:16.2288028Z [36;1mAdd-Content -Path $consoleLog -Value ("[BAT_FULL_PATH]={0}" -f $bat)[0m
2026-02-21T07:42:16.2288392Z [36;1m[0m
2026-02-21T07:42:16.2288640Z [36;1mWrite-Host '=== Python diagnostics (before BAT) ==='[0m
2026-02-21T07:42:16.2289085Z [36;1m& where.exe python 2>&1 | Tee-Object -FilePath $consoleLog -Append[0m
2026-02-21T07:42:16.2290198Z [36;1m& python --version 2>&1 | Tee-Object -FilePath $consoleLog -Append[0m
2026-02-21T07:42:16.2290612Z [36;1mWrite-Host '=== PATH (before BAT) ==='[0m
2026-02-21T07:42:16.2290892Z [36;1mWrite-Host $env:PATH[0m
2026-02-21T07:42:16.2291233Z [36;1mAdd-Content -Path $consoleLog -Value ('[PATH] ' + $env:PATH)[0m
2026-02-21T07:42:16.2291570Z [36;1m[0m
2026-02-21T07:42:16.2291801Z [36;1m& $bat 2>&1 | Tee-Object -FilePath $consoleLog -Append[0m
2026-02-21T07:42:16.2292117Z [36;1m$rc = $LASTEXITCODE[0m
2026-02-21T07:42:16.2292338Z [36;1mWrite-Host "[RC]=$rc"[0m
2026-02-21T07:42:16.2292649Z [36;1mAdd-Content -Path $consoleLog -Value ("[RC]={0}" -f $rc)[0m
2026-02-21T07:42:16.2292969Z [36;1m[0m
2026-02-21T07:42:16.2293137Z [36;1mif ($rc -ne 0) {[0m
2026-02-21T07:42:16.2293395Z [36;1m  Add-Content -Path $reportPath -Value @([0m
2026-02-21T07:42:16.2293696Z [36;1m    '[NG] run_desktop_bat',[0m
2026-02-21T07:42:16.2295160Z [36;1m    ('[NG] exit_code={0}' -f $rc),[0m
2026-02-21T07:42:16.2295411Z [36;1m    ''[0m
2026-02-21T07:42:16.2295572Z [36;1m  )[0m
2026-02-21T07:42:16.2295820Z [36;1m  Write-Warning "Run desktop BAT failed with rc=$rc"[0m
2026-02-21T07:42:16.2296167Z [36;1m  $workRoot = 'C:\work\apex_work\runs'[0m
2026-02-21T07:42:16.2296436Z [36;1m  $runDir = $null[0m
2026-02-21T07:42:16.2296660Z [36;1m  if (Test-Path $workRoot) {[0m
2026-02-21T07:42:16.2297223Z [36;1m    $runDir = Get-ChildItem -Path $workRoot -Directory | Sort-Object LastWriteTime -Descending | Select-Object -First 1[0m
2026-02-21T07:42:16.2297778Z [36;1m  }[0m
2026-02-21T07:42:16.2297932Z [36;1m[0m
2026-02-21T07:42:16.2298100Z [36;1m  if ($runDir) {[0m
2026-02-21T07:42:16.2298448Z [36;1m    $runLog = Join-Path $runDir.FullName ("logs\run_{0}.log" -f $runDir.Name)[0m
2026-02-21T07:42:16.2298931Z [36;1m    Write-Host ("Latest run_dir={0}" -f $runDir.FullName)[0m
2026-02-21T07:42:16.2299332Z [36;1m    Write-Host ("Expected run_log={0}" -f $runLog)[0m
2026-02-21T07:42:16.2299662Z [36;1m    if (Test-Path $runLog) {[0m
2026-02-21T07:42:16.2300016Z [36;1m      Write-Host '=== tail run_*.log (260 lines) ==='[0m
2026-02-21T07:42:16.2300357Z [36;1m      Get-Content -Path $runLog -Tail 260[0m
2026-02-21T07:42:16.2300632Z [36;1m    } else {[0m
2026-02-21T07:42:16.2300900Z [36;1m      Write-Warning ("run log not found: {0}" -f $runLog)[0m
2026-02-21T07:42:16.2301204Z [36;1m    }[0m
2026-02-21T07:42:16.2301370Z [36;1m  } else {[0m
2026-02-21T07:42:16.2301686Z [36;1m    Write-Warning ("No run directories found under {0}" -f $workRoot)[0m
2026-02-21T07:42:16.2302074Z [36;1m  }[0m
2026-02-21T07:42:16.2302263Z [36;1m  exit $rc[0m
2026-02-21T07:42:16.2302440Z [36;1m}[0m
2026-02-21T07:42:16.2302592Z [36;1m[0m
2026-02-21T07:42:16.2310604Z [36;1mAdd-Content -Path $reportPath -Value @([0m
2026-02-21T07:42:16.2310981Z [36;1m  '[OK] run_desktop_bat',[0m
2026-02-21T07:42:16.2311252Z [36;1m  '[OK] exit_code=0',[0m
2026-02-21T07:42:16.2311467Z [36;1m  ''[0m
2026-02-21T07:42:16.2311648Z [36;1m)[0m
2026-02-21T07:42:16.2311812Z [36;1m[0m
2026-02-21T07:42:16.2312046Z [36;1mif ((Get-Item $reportPath).Length -gt 60000) {[0m
2026-02-21T07:42:16.2312401Z [36;1m  $tail = Get-Content -Path $reportPath -Raw[0m
2026-02-21T07:42:16.2312786Z [36;1m  $tail = $tail.Substring([Math]::Max(0, $tail.Length - 60000))[0m
2026-02-21T07:42:16.2313233Z [36;1m  Set-Content -Path $reportPath -Value $tail -Encoding UTF8[0m
2026-02-21T07:42:16.2313563Z [36;1m}[0m
2026-02-21T07:42:16.2313720Z [36;1m[0m
2026-02-21T07:42:16.2313864Z [36;1mexit 0[0m
2026-02-21T07:42:16.2331849Z shell: C:\Windows\System32\WindowsPowerShell\v1.0\powershell.EXE -NoProfile -ExecutionPolicy Bypass -Command "{0}"
2026-02-21T07:42:16.2332388Z env:
2026-02-21T07:42:16.2332595Z   REPO_ROOT: C:\work\apex_repo_cache\ApexTraderAI
2026-02-21T07:42:16.2332878Z   INPUT_MODE: sim
2026-02-21T07:42:16.2333766Z   INPUT_SYMBOLS: SOXL,SOXS
2026-02-21T07:42:16.2333985Z   INPUT_START: 2014-01-01
2026-02-21T07:42:16.2334181Z   INPUT_END: 2022-03-31
2026-02-21T07:42:16.2334414Z   INPUT_TEST_START: 2022-01-03
2026-02-21T07:42:16.2334620Z   INPUT_TRAIN_YEARS: 8
2026-02-21T07:42:16.2334811Z   INPUT_TEST_MONTHS: 3
2026-02-21T07:42:16.2335011Z   INPUT_COPY_TO_ONEDRIVE: true
2026-02-21T07:42:16.2335231Z   INPUT_STEPS: A,B
2026-02-21T07:42:16.2335408Z   RUN_MODE: sim
2026-02-21T07:42:16.2335573Z   SYMBOLS: SOXL,SOXS
2026-02-21T07:42:16.2335774Z   SYMBOL: SOXL
2026-02-21T07:42:16.2336118Z   STEPS: A,B
2026-02-21T07:42:16.2336276Z   DATA_START: 2014-01-01
2026-02-21T07:42:16.2336456Z   DATA_END: 2022-03-31
2026-02-21T07:42:16.2336636Z   TEST_START: 2022-01-03
2026-02-21T07:42:16.2336812Z   TRAIN_YEARS: 8
2026-02-21T07:42:16.2336969Z   TEST_MONTHS: 3
2026-02-21T07:42:16.2337173Z   WORK_ROOT: C:\work\apex_work\runs
2026-02-21T07:42:16.2337399Z   COPY_TO_ONEDRIVE: 1
2026-02-21T07:42:16.2337576Z   PYTHON_EXE: python
2026-02-21T07:42:16.2338327Z ##[endgroup]
2026-02-21T07:42:16.4991951Z === Run desktop BAT preflight ===
2026-02-21T07:42:16.5009785Z ***
2026-02-21T07:42:16.5020170Z REPO_ROOT=C:\work\apex_repo_cache\ApexTraderAI
2026-02-21T07:42:16.5024319Z GITHUB_WORKSPACE=C:\Users\becky\OneDrive\ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—\Python\apex-trader-ai\actions-runner\_work\ApexTraderAI\ApexTraderAI
2026-02-21T07:42:16.5029922Z RUNNER_TEMP=C:\Users\becky\OneDrive\ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—\Python\apex-trader-ai\actions-runner\_work\_temp
2026-02-21T07:42:16.5067436Z 
2026-02-21T07:42:16.6420614Z C:\Users\becky\AppData\Local\Programs\Python\Python310\python.exe
2026-02-21T07:42:16.6447693Z BAT candidate paths: C:\work\apex_repo_cache\ApexTraderAI\scripts\run_all_local_then_copy.bat
2026-02-21T07:42:16.6494812Z Executing BAT full path: C:\work\apex_repo_cache\ApexTraderAI\scripts\run_all_local_then_copy.bat
2026-02-21T07:42:16.6527885Z === Python diagnostics (before BAT) ===
2026-02-21T07:42:16.9599260Z Name                               
2026-02-21T07:42:16.9599734Z ----                               
2026-02-21T07:42:16.9600029Z bat_config.bat                     
2026-02-21T07:42:16.9600525Z copy_run_to_onedrive.bat           
2026-02-21T07:42:16.9600934Z doctor.bat                         
2026-02-21T07:42:16.9601339Z package_diagnostics.ps1            
2026-02-21T07:42:16.9601692Z package_diagnostics_to_onedrive.ps1
2026-02-21T07:42:16.9602147Z run_all_local_then_copy.bat        
2026-02-21T07:42:16.9602572Z C:\Users\becky\AppData\Local\Programs\Python\Python310\python.exe
2026-02-21T07:42:16.9730334Z Python 3.10.6
2026-02-21T07:42:16.9735664Z === PATH (before BAT) ===
2026-02-21T07:42:16.9742006Z C:\Program Files\Oculus\Support\oculus-runtime;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\Intel\Intel(R) Management Engine Components\DAL;C:\Program Files\Intel\Intel(R) Management Engine Components\DAL;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files (x86)\QuickTime\QTSystem\;C:\Program Files\Git\cmd;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\WINDOWS\System32\OpenSSH\;C:\Users\becky\AppData\Local\Programs\Python\Python310\;C:\ffmpeg\bin\;
2026-02-21T07:42:17.3803951Z [RC] 
2026-02-21T07:42:17.4448870Z [RC] 
2026-02-21T07:42:17.5969910Z [RC] 
2026-02-21T07:42:17.6489554Z [RC] 
2026-02-21T07:42:17.7303767Z [RC] 
2026-02-21T07:42:19.8576644Z [RC] 
2026-02-21T07:43:19.7179226Z [RC] 
2026-02-21T07:43:31.1068732Z [RC] 
2026-02-21T07:43:31.1483223Z [RC] 
2026-02-21T07:43:31.9679143Z [OK] repo_snapshots already exists: "C:\Users\becky\OneDrive\ApexTraderAI\repo_snapshots"
2026-02-21T07:43:32.2903123Z [RC] 
2026-02-21T07:43:32.3009804Z [OK] run_id=20260221_164217
2026-02-21T07:43:32.3022427Z [OK] local=C:\work\apex_work\runs\20260221_164217
2026-02-21T07:43:32.3032809Z [OK] onedrive=C:\Users\becky\OneDrive\ApexTraderAI\runs\20260221_164217
2026-02-21T07:43:32.3122367Z [RC]=0
2026-02-21T07:43:32.3221202Z 
2026-02-21T07:43:32.3221473Z 

----- FILE: actions_logs/run/system.txt -----
2026-02-21T07:42:03.6010000Z Evaluating run.if
2026-02-21T07:42:03.6010000Z Evaluating: success()
2026-02-21T07:42:03.6010000Z Result: true
2026-02-21T07:42:03.6020000Z Requested labels: self-hosted, windows
2026-02-21T07:42:03.6020000Z Job defined at: toki866/ApexTraderAI/.github/workflows/run_desktop_pipeline.yml@refs/heads/main
2026-02-21T07:42:03.6020000Z Waiting for a runner to pick up this job...
2026-02-21T07:42:04.1050000Z Job is about to start running on the runner: DESKTOP-C54PIIA
